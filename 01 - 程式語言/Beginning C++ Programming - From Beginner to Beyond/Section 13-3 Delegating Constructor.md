#  å§”æ´¾å»ºæ§‹å­
## ğŸ§  ä»€éº¼æ˜¯ Delegating Constructorï¼Ÿ

åœ¨ C++11 ä¹‹å¾Œï¼Œ**å»ºæ§‹å­å¯ä»¥å‘¼å«åŒä¸€é¡åˆ¥è£¡çš„å…¶ä»–å»ºæ§‹å­**ï¼Œä¾†é¿å…é‡è¤‡åˆå§‹åŒ–é‚è¼¯ã€‚
## ğŸ§© ç‚ºä»€éº¼éœ€è¦å®ƒï¼Ÿ

åœ¨éå»ï¼ˆC++11 ä»¥å‰ï¼‰æˆ‘å€‘å¸¸é€™æ¨£å¯«å¤šè¼‰å»ºæ§‹å­ï¼š
```cpp
class Student {
private:
    string name;
    int age;

public:
    Student() {
        name = "Unknown";
        age = 0;
    }

    Student(string name) {
        this->name = name;
        age = 0;
    }

    Student(string name, int age) {
        this->name = name;
        this->age = age;
    }
};
```
â— å•é¡Œï¼šå¾ˆå¤šã€Œé‡è¤‡çš„é‚è¼¯ã€åè¦†å¯«åœ¨æ¯å€‹å»ºæ§‹å­è£¡ï¼Œé›£ä»¥ç¶­è­·ã€‚
### âœ… ä½¿ç”¨ Delegating Constructor æ”¹å¯«
```cpp
class Student {
private:
    string name;
    int age;

public:
    Student() : Student("Unknown", 0) {}                     // å§”æ´¾çµ¦ç¬¬ä¸‰å€‹å»ºæ§‹å­
    Student(string name) : Student(name, 0) {}               // å§”æ´¾çµ¦ç¬¬ä¸‰å€‹å»ºæ§‹å­
    Student(string name, int age) {
        this->name = name;
        this->age = age;
    }
};
```
### ğŸ¯ é—œéµå¥ï¼š
```cpp
Student() : Student("Unknown", 0) {}
```

æ„æ€æ˜¯ï¼š
> ğŸ§ ã€Œå‘¼å« `Student(string name, int age)` é€™å€‹å»ºæ§‹å­ï¼Œå‚³å…¥æŒ‡å®šçš„é è¨­å€¼ã€
### âœ… ä½¿ç”¨æ–¹å¼
```cpp
Student s1;              // name="Unknown", age=0
Student s2("Tom");       // name="Tom", age=0
Student s3("Amy", 20);   // name="Amy", age=20
```
---
## ğŸ¯ è©³ç´°åˆ†è§£å»ºæ§‹å­çš„ã€Œåˆå§‹åŒ–åˆ—è¡¨ã€èªæ³• + å§”æ´¾å»ºæ§‹å­çš„å‘¼å«
```cpp
Student()          // å»ºæ§‹å­æœ¬é«”çš„å®šç¾©
: Student("Unknown", 0)   // <-- åˆå§‹åŒ–åˆ—è¡¨ï¼Œé€™è£¡åœ¨å§”æ´¾å‘¼å«å¦ä¸€å€‹å»ºæ§‹å­
{}                  // å»ºæ§‹å­å‡½å¼çš„æœ¬é«”ï¼ˆå¯ä»¥æ˜¯ç©ºçš„ï¼‰
```
### ğŸ” æ‹†è§£é€å¥èªªæ˜
| éƒ¨åˆ†                        | è§£é‡‹                                         |
| ------------------------- | ------------------------------------------ |
| `Student()`               | å®£å‘Šç„¡åƒæ•¸å»ºæ§‹å­                                   |
| `: Student("Unknown", 0)` | åˆ©ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Œ**å§”æ´¾å‘¼å«** è‡ªå·±é¡åˆ¥å…§å¦ä¸€å€‹å»ºæ§‹å­ï¼ˆé€™æ˜¯ C++11 æ–°èªæ³•ï¼‰ |
| `{}`                      | å¯¦ä½œä¸»é«”ï¼Œé€™è£¡æ˜¯ç©ºçš„ï¼Œå› ç‚ºåˆå§‹åŒ–å·¥ä½œå·²ç¶“åœ¨è¢«å‘¼å«çš„å»ºæ§‹å­è£¡å®Œæˆäº†           |
### ğŸ”„ å®ƒå¯¦éš›ä¸Šåšäº†ä»€éº¼ï¼Ÿ

é€™å¥ç­‰æ–¼èªªï¼š
> ã€Œç•¶æˆ‘ç”¨ `Student()`ï¼ˆç„¡åƒæ•¸å»ºæ§‹å­ï¼‰å»ºç«‹ç‰©ä»¶æ™‚ï¼Œè«‹è‡ªå‹•å»å‘¼å« `Student(string name, int age)` ä¸¦å‚³å…¥ `"Unknown"` å’Œ `0`ã€

ç„¶å¾Œé‚£å€‹æœ‰åƒæ•¸çš„å»ºæ§‹å­è² è²¬çœŸæ­£çš„åˆå§‹åŒ–ï¼š
```cpp
Student(string name, int age) {
    this->name = name;
    this->age = age;
}
```
### âœ… ç­‰åƒ¹æ–¼ä»€éº¼ï¼Ÿ

é€™è¡Œï¼š
```cpp
Student() : Student("Unknown", 0) {}
```
åŠŸèƒ½ä¸Šå°±ç­‰åƒ¹æ–¼å‚³çµ±å¯«æ³•ï¼š
```cpp
Student() {     
	name = "Unknown";
	age = 0;
}
```

ä½†å·®åˆ¥åœ¨æ–¼ï¼š  
ğŸ‘‰ **ç”¨å§”æ´¾å¯«æ³•å¯ä»¥é¿å…åœ¨æ¯å€‹å»ºæ§‹å­éƒ½é‡è¤‡å¯« `name = "Unknown"` é€™ç¨®åˆå§‹åŒ–é‚è¼¯**
### âœ¨ ä½¿ç”¨å§”æ´¾çš„å„ªé»å†å¼·èª¿ä¸€æ¬¡ï¼š

- âœ… æŠŠé‡è¤‡çš„åˆå§‹åŒ–é‚è¼¯é›†ä¸­å¯«åœ¨ä¸€å€‹å»ºæ§‹å­è£¡ï¼ˆé€šå¸¸æ˜¯ã€Œæœ€å¤§åƒæ•¸ç‰ˆã€ï¼‰
    
- âœ… å…¶ä»–å»ºæ§‹å­åªè² è²¬ã€Œè½‰å‘¼å«ã€é‚£å€‹å»ºæ§‹å­ â†’ ç¨‹å¼ç¢¼ç°¡æ½”ã€å¥½ç¶­è­·
    
- âœ… è‹¥æœªä¾†åˆå§‹åŒ–é‚è¼¯æ”¹è®Šï¼Œåªè¦æ”¹ä¸€å€‹åœ°æ–¹ï¼

### ğŸ§ª è£œå……ä¾‹å­ï¼ˆå°ç…§é è¨­åƒæ•¸ï¼‰

#### å§”æ´¾å»ºæ§‹å­å¯«æ³•ï¼š
```cpp
class Student {
public:
    Student() : Student("Unknown", 0) {}
    Student(string name) : Student(name, 0) {}
    Student(string name, int age) {
        this->name = name;
        this->age = age;
    }
};

```
#### é è¨­åƒæ•¸å¯«æ³•ï¼š
```cpp
class Student {
public:
    Student(string name = "Unknown", int age = 0) {
        this->name = name;
        this->age = age;
    }
};
```
---
# ğŸ¥Š å§”æ´¾å»ºæ§‹å­ï¼ˆDelegating Constructorï¼‰vsğŸ§™â€â™‚ï¸é è¨­åƒæ•¸ï¼ˆDefault Parametersï¼‰

## âœ… è¡¨é¢ä¸Šï¼š**å¯ä»¥é”æˆç›¸åŒæ•ˆæœ**

### é€™å…©æ®µç¨‹å¼ç¢¼**éƒ½å¯ä»¥ç”¨ä¾†æ”¯æ´ä¸åŒæ•¸é‡çš„åƒæ•¸å»ºç«‹ç‰©ä»¶**ï¼š

### ğŸ…°ï¸ å§”æ´¾å»ºæ§‹å­å¯«æ³•ï¼š
```cpp
class Student {
public:
    Student() : Student("Unknown", 0) {}
    Student(string name) : Student(name, 0) {}
    Student(string name, int age) {
        this->name = name;
        this->age = age;
    }
};
```

### ğŸ…±ï¸ é è¨­åƒæ•¸å¯«æ³•ï¼š
```cpp
class Student {
public:
    Student(string name = "Unknown", int age = 0) {
        this->name = name;
        this->age = age;
    }
};
```

### ä½¿ç”¨æ™‚ä¸€æ¨£ï¼š
```cpp
Student s1;                // name = "Unknown", age = 0
Student s2("Tom");         // name = "Tom", age = 0
Student s3("Amy", 18);     // name = "Amy", age = 18
```
---
## ğŸ§  ä½†å¯¦éš›ä¸Šæœ‰ã€Œèªæ„ã€å’Œã€Œè¨­è¨ˆé¢¨æ ¼ã€ä¸Šçš„å·®ç•°ï¼

|æ¯”è¼ƒé …ç›®|å§”æ´¾å»ºæ§‹å­|é è¨­åƒæ•¸|
|---|---|---|
|å®šç¾©ä½ç½®|å¤šå€‹å»ºæ§‹å­|å–®ä¸€å»ºæ§‹å­|
|é‡è¤‡åˆå§‹åŒ–é‚è¼¯|å¯é›†ä¸­åœ¨ä¸€å€‹ä¸»å»ºæ§‹å­ä¸­è™•ç† âœ…|æ‰€æœ‰é‚è¼¯è¦å¡åœ¨ä¸€å€‹å»ºæ§‹å­è£¡ ğŸ˜µ|
|å¯è®€æ€§/ç¶­è­·æ€§|å¥½ï¼ˆæ¯å€‹å»ºæ§‹å­èªæ„æ¸…æ¥šï¼‰|ç•¶åƒæ•¸å¤šã€é‚è¼¯è¤‡é›œæ™‚é›£ç¶­è­·|
|å½ˆæ€§ï¼ˆå¯å®šç¾©ä¸åŒè¡Œç‚ºï¼‰|âœ… æ¯å€‹å»ºæ§‹å­å¯ä»¥è‡ªè¨‚ä¸åŒè¡Œç‚º|âŒ æ‰€æœ‰é‚è¼¯åªèƒ½æ”¾åœ¨ä¸€å€‹å‡½å¼ä¸­|
|æ•ˆèƒ½|å¹¾ä¹ç›¸åŒï¼ˆç·¨è­¯å™¨æœƒå„ªåŒ–ï¼‰|å¹¾ä¹ç›¸åŒ|
|æ”¯æ´ç‰ˆæœ¬|C++11 æ‰æ”¯æ´|C++98 å°±æ”¯æ´|

---
## ğŸ¯ ç¸½çµä¸€å¥è©±ï¼š

> **å¦‚æœåªæ˜¯æƒ³å¿«é€Ÿå¯«å€‹å°ç¯„ä¾‹ã€åƒæ•¸é‚è¼¯å¾ˆç°¡å–®ï¼šå¯ä»¥ç”¨é è¨­åƒæ•¸ã€‚**
> **ä½†è‹¥åƒæ•¸å¤šã€é‚è¼¯è¤‡é›œã€æˆ–ä¸åŒå»ºæ§‹å­éœ€è¦ä¸åŒåˆå§‹åŒ–é‚è¼¯ï¼šè«‹ç”¨å§”æ´¾å»ºæ§‹å­ï¼Œç¨‹å¼ç¢¼æ›´ä¹¾æ·¨ã€å¯è®€æ€§æ›´é«˜ã€‚**

---
# ğŸ§ **ä½¿ç”¨å§”æ´¾å»ºæ§‹å­æ™‚ï¼Œå»ºæ§‹å­æœ¬é«” `{}` é‚„æ˜¯å¯ä»¥å¯«ç¨‹å¼ç¢¼ï¼**
## ğŸ§ª ç¯„ä¾‹ï¼šåŠ ä¸Šã€Œå°å‡ºè¨Šæ¯ã€çš„é‚è¼¯
```cpp
#include <iostream> 
#include <string> 
using namespace std;  
class Student { 
	private:     
		string name;     
		int age;  
	public:     
		// ä¸»å»ºæ§‹å­ï¼šå¯¦éš›åšåˆå§‹åŒ–     
		Student(string name, int age) {         
			this->name = name;         
			this->age = age;         
			cout << "ğŸ—ï¸ æ­£åœ¨å»ºç«‹å­¸ç”Ÿï¼š" << name << ", å¹´é½¡ï¼š" << age << endl;     
		}      
		// ç„¡åƒæ•¸å»ºæ§‹å­ï¼šå§”æ´¾ + é¡å¤–é‚è¼¯     
		Student() : Student("Unknown", 0) {         
			cout << "âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶" << endl;     
		}      
		
		// å–®åƒæ•¸å»ºæ§‹å­ï¼šå§”æ´¾ + é¡å¤–é‚è¼¯     
		Student(string name) : Student(name, 0) {         
			cout << "âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å€¼ 0" << endl;     
		} 
};
```
### ğŸ§ª æ¸¬è©¦ç¨‹å¼ï¼š
```cpp
int main() {     
	Student s1;             // ç„¡åƒæ•¸     
	Student s2("Alice");    // åªæœ‰åå­—     
	Student s3("Bob", 20);  // å®Œæ•´è³‡è¨Š     
	return 0; 
}```
### ğŸ–¨ï¸ åŸ·è¡Œçµæœæœƒæ˜¯ï¼š
```sql
ğŸ—ï¸ æ­£åœ¨å»ºç«‹å­¸ç”Ÿï¼šUnknown, å¹´é½¡ï¼š0 âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶  
ğŸ—ï¸ æ­£åœ¨å»ºç«‹å­¸ç”Ÿï¼šAlice, å¹´é½¡ï¼š0 âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å€¼ 0  
ğŸ—ï¸ æ­£åœ¨å»ºç«‹å­¸ç”Ÿï¼šBob, å¹´é½¡ï¼š20
```
## âœ… å°çµè«–

|é¡å‹|å»ºæ§‹å­æœ¬é«” `{}` å¯ä»¥åšä»€éº¼ï¼Ÿ|
|---|---|
|âœ… å§”æ´¾å»ºæ§‹å­|å¯ä»¥å¯«é¡å¤–çš„è¡Œç‚ºï¼ˆä¾‹å¦‚ `cout`ã€logã€è¨ˆç®—ç­‰ç­‰ï¼‰|
|âœ… ä¸»å»ºæ§‹å­|å¯¦éš›è™•ç†è®Šæ•¸åˆå§‹åŒ–çš„é‚è¼¯|

ä½ å¯ä»¥æŠŠä¸»å»ºæ§‹å­æƒ³æˆã€ŒğŸ”§ çœŸæ­£åˆå§‹åŒ–çš„å·¥å» ã€ï¼Œå…¶ä»–å§”æ´¾å»ºæ§‹å­åƒæ˜¯ã€ŒğŸ“¦ é è¨­çµ„åˆåŒ…è£æ–¹æ¡ˆã€ï¼Œä½†ä»–å€‘å¯ä»¥åœ¨å‡ºè²¨å‰å·å·åŠ ä¸Šè²¼ç´™ã€ä¿è­·æ³¡æ³¡ç´™ä¹‹é¡çš„é¡å¤–å‹•ä½œ

---

# ğŸ§ å¦‚æœåªç”¨é è¨­åƒæ•¸ `= ...` çš„æ–¹å¼ï¼Œåœ¨å»ºæ§‹å­è£¡å°±å¿…é ˆ**æ‰‹å‹•ç”¨ `if-else` åˆ¤æ–·**ä¾†æ¨¡æ“¬å§”æ´¾å»ºæ§‹å­èƒ½åšçš„äº‹ã€ã€‚

### ğŸ…°ï¸ ä½¿ç”¨å§”æ´¾å»ºæ§‹å­ âœ…

ğŸ‘‰ æ¯ä¸€ç¨®å»ºæ§‹å­æƒ…å¢ƒçš„è¡Œç‚ºå¯ä»¥**æ¸…æ¥šåˆ†é–‹**ï¼Œç¨‹å¼ç¢¼ç°¡å–®ã€æ˜“è®€ï¼š
```cpp
class Student { 
	private:     
		string name;     
		int age;  
	public:     
		Student(string name, int age) {         
			this->name = name;         
			this->age = age;         
			cout << "ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼š" << name << ", å¹´é½¡ï¼š" << age << endl;     
		}      
	
		Student() : Student("Unknown", 0) {         
			cout << "âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶" << endl;     
		}      
		
		Student(string name) : Student(name, 0) {         
			cout << "âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å¹´é½¡ 0" << endl;     
		}
};
```
### ğŸ…±ï¸ å¦‚æœåªç”¨é è¨­åƒæ•¸ ğŸ§¨

ğŸ‘‰ ä½ å°±å¾—åœ¨**ä¸€å€‹å»ºæ§‹å­è£¡é¢æå®šæ‰€æœ‰æƒ…æ³**ï¼Œè®Šå¾—å¾ˆé›£ç¶­è­·ï¼Œåƒé€™æ¨£ï¼š
```cpp
class Student { 
	private:     
		string name;     
		int age;  
	public:     
		Student(string name = "Unknown", int age = 0) {         
			this->name = name;         
			this->age = age;          
			if (name == "Unknown" && age == 0) {             
				cout << "âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶" << endl;         
			} else if (age == 0) {             
				cout << "âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å¹´é½¡ 0" << endl;         
			}          
			cout << "ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼š" << name << ", å¹´é½¡ï¼š" << age << endl;     
		}
};
```
## ğŸ” çµæœèˆ‡æ¯”è¼ƒ

|åšæ³•|ç‰¹é»|
|---|---|
|ğŸ…°ï¸ å§”æ´¾å»ºæ§‹å­|âœ… æ¯ç¨®æƒ…å¢ƒå°æ‡‰ä¸€å€‹å»ºæ§‹å­ï¼Œ**é‚è¼¯é›†ä¸­ã€å¯è®€æ€§é«˜ã€ç¶­è­·æ–¹ä¾¿**|
|ğŸ…±ï¸ é è¨­åƒæ•¸å»ºæ§‹å­|âŒ æ‰€æœ‰é‚è¼¯éƒ½å¡åœ¨ä¸€å€‹å»ºæ§‹å­è£¡ï¼Œ**éœ€è¦ç”¨ `if-else` åˆ¤æ–·ä½¿ç”¨è€…çš„åƒæ•¸æ„åœ–**|

## ğŸ§  é¡å¤–è£œå……ï¼šé è¨­åƒæ•¸å…¶å¯¦ä¸çŸ¥é“ã€Œä½ æœ‰æ²’æœ‰çœŸçš„å‚³é€²ä¾†ã€
```cpp
Student s1();                 // æœƒé…åˆ° `name = "Unknown", age = 0` 
Student s2("Amy");            // é…åˆ° `name = "Amy", age = 0
```
ä½ åœ¨å»ºæ§‹å­è£¡æ˜¯ç„¡æ³•ç›´æ¥çŸ¥é“ `age` æ˜¯ä¸æ˜¯ä½¿ç”¨äº†é è¨­å€¼ï¼Œå› ç‚ºå°å»ºæ§‹å­ä¾†èªªï¼š
```cpp
Student("Amy"); // å°±æ˜¯ç­‰æ–¼ Student("Amy", 0)
```
å®ƒä¸çŸ¥é“ `0` æ˜¯ä½ å¯«çš„ï¼Œé‚„æ˜¯é è¨­çš„ï¼Œé™¤éä½ è‡ªå·±å¯« `if (age == 0)` é€™ç¨®åˆ¤æ–·ã€‚

---
## ğŸŒŸ é€æ­¥è§£æå§”æ´¾å»ºæ§‹å­çš„å‘¼å«é †åºï¼š

```cpp
#include <iostream>
#include <string>
using namespace std;

class Student {
private:
    string name;
    int age;

public:
    // ä¸»å»ºæ§‹å­
    Student(string name, int age) {
        this->name = name;
        this->age = age;
        cout << "ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼š" << name << ", å¹´é½¡ï¼š" << age << endl;
    }

    // å§”æ´¾å»ºæ§‹å­ 1ï¼šç„¡åƒæ•¸
    Student() : Student("Unknown", 0) {
        cout << "âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶" << endl;
    }

    // å§”æ´¾å»ºæ§‹å­ 2ï¼šåªæœ‰åå­—
    Student(string name) : Student(name, 0) {
        cout << "âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å¹´é½¡ 0" << endl;
    }
};
```
## ğŸ§ª æ¸¬è©¦ç¨‹å¼ï¼š

```cpp
int main() {
    Student s1;
    Student s2("Amy");
    Student s3("Bob", 20);
}
```
## ğŸ§­ å‘¼å«é †åºè§£æ
### ğŸ”¹ `Student s1;` å‘¼å«é †åºï¼š
```text
s1 âœ å‘¼å« Student() âœ å§”æ´¾åˆ° Student("Unknown", 0)
                       â””â”€â”€ å¯¦éš›åˆå§‹åŒ– name å’Œ age
                       â””â”€â”€ å°å‡º ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼šUnknown, å¹´é½¡ï¼š0
           ç„¶å¾Œç¹¼çºŒåŸ·è¡Œ Student() çš„æœ¬é«”
                       â””â”€â”€ å°å‡º âœ… ä½¿ç”¨é è¨­å€¼å»ºç«‹å­¸ç”Ÿç‰©ä»¶
```
ğŸ§  æ›å¥è©±èªªï¼š
```cpp
Student() â†’ Student("Unknown", 0) â†’ å°å‡º â†’ å›åˆ° Student() â†’ å°å‡º
```

### ğŸ”¹ `Student s2("Amy");` å‘¼å«é †åºï¼š
```text
s2 âœ å‘¼å« Student(string name) âœ å§”æ´¾åˆ° Student(name, 0)
                               â””â”€â”€ å¯¦éš›åˆå§‹åŒ– name = "Amy", age = 0
                               â””â”€â”€ å°å‡º ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼šAmy, å¹´é½¡ï¼š0
               ç„¶å¾Œç¹¼çºŒåŸ·è¡Œ Student(name) çš„æœ¬é«”
                               â””â”€â”€ å°å‡º âœ… æœªè¼¸å…¥å¹´é½¡ï¼Œä½¿ç”¨é è¨­å¹´é½¡ 0
```
ğŸ§  æ›å¥è©±èªªï¼š
```cpp
Student("Amy") â†’ Student("Amy", 0) â†’ å°å‡º â†’ å›åˆ° Student("Amy") â†’ å°å‡º
```

### ğŸ”¹ `Student s3("Bob", 20);` å‘¼å«é †åºï¼š
```text
s3 âœ ç›´æ¥å‘¼å« Student("Bob", 20)
    â””â”€â”€ åˆå§‹åŒ– name = "Bob", age = 20
    â””â”€â”€ å°å‡º ğŸ—ï¸ å»ºç«‹å­¸ç”Ÿï¼šBob, å¹´é½¡ï¼š20
```
ğŸ§  æ›å¥è©±èªªï¼š
```cpp
Student("Bob", 20) â†’ å°å‡º
```
---
## âœ… å°çµè«–

|å‘¼å«æ–¹å¼|æœƒå‘¼å«å“ªå€‹å»ºæ§‹å­|å§”æ´¾åˆ°å“ª|æœ€çµ‚å°å‡ºé †åº|
|---|---|---|---|
|`Student()`|`Student()`|â†’ `Student("Unknown", 0)`|ğŸ—ï¸ â†’ âœ…|
|`Student("Amy")`|`Student(string name)`|â†’ `Student(name, 0)`|ğŸ—ï¸ â†’ âœ…|
|`Student("Bob", 20)`|`Student(string name, int)`|ç„¡|ğŸ—ï¸|

---
## âœ… å¯¦å‹™ç¶“é©—è£œå……ï¼š

å¯¦å‹™ä¸Šï¼Œå¾ˆå¤šä¸­å¤§å‹å°ˆæ¡ˆæœƒï¼š

- ä½¿ç”¨ **å§”æ´¾å»ºæ§‹å­** è² è²¬çµ„åˆé‚è¼¯
    
- ç„¶å¾Œä½¿ç”¨ **åˆå§‹åŒ–åˆ—è¡¨** è™•ç†åˆå§‹åŒ–
    
- æŠŠã€Œé‚è¼¯å’Œæ•¸å€¼ã€çš„ä¾†æºåˆ†é–‹
    
---
## ğŸ§  å§”æ´¾å»ºæ§‹å­ vs é è¨­åƒæ•¸ vs å¤šè¼‰
| æŠ€è¡“          | å„ªé»                    | ç¼ºé»              |
| ----------- | --------------------- | --------------- |
| é è¨­åƒæ•¸        | ç°¡å–®ä¸€å€‹å»ºæ§‹å­æå®š             | æ‰€æœ‰é‚è¼¯éƒ½è¦å¯«åœ¨ä¸€å€‹å‡½å¼å…§   |
| å¤šè¼‰å»ºæ§‹å­       | å½ˆæ€§é«˜ï¼Œå¯ä»¥å€‹åˆ¥å¯«é‚è¼¯           | ç¨‹å¼ç¢¼é‡è¤‡å¤š          |
| **å§”æ´¾å»ºæ§‹å­ âœ…** | **é¿å…é‡è¤‡é‚è¼¯ã€æ¯å€‹å»ºæ§‹å­ä»å¯å®¢è£½åŒ–** | **éœ€è¦ C++11 æ”¯æ´** |
### ğŸ“Œ è£œå……æ³¨æ„äº‹é …

1. âœ… **åªèƒ½å§”æ´¾çµ¦åŒä¸€é¡åˆ¥è£¡çš„å»ºæ§‹å­**ï¼ˆä¸èƒ½å‘¼å«çˆ¶é¡åˆ¥çš„å»ºæ§‹å­ï¼‰
    
2. âœ… **åªèƒ½å‡ºç¾åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­**
    
3. âŒ **ä¸èƒ½å§”æ´¾çµ¦è‡ªå·±**ï¼ˆæœƒç„¡é™éè¿´ï¼‰
---
#  `const` èˆ‡ `reference` æˆå“¡**å¿…é ˆåœ¨å»ºæ§‹å­åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–**ï¼Œè€Œä¸”åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼

## ğŸ§ª æˆ‘å€‘å…ˆç”¨ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š
```cpp
#include <iostream> 
#include <string> 
using namespace std;  
class Student { 
	private:     
		const string school;     
		int age;  
	public:     
		Student(string schoolName, int a) : school(schoolName), age(a) {         
			cout << "âœ… åˆå§‹åŒ–å®Œæˆï¼šschool = " << school << ", age = " << age << endl;
		}
};
```
### âœ… é‡é»è§€å¯Ÿï¼š

- `const string school`ï¼šé€™æ˜¯å€‹ **å¸¸æ•¸æˆå“¡**ï¼Œåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼Œ**ä¸èƒ½åœ¨å»ºæ§‹å­çš„å¤§æ‹¬è™Ÿ `{}` å…§è³¦å€¼**ã€‚
    
- æ‰€ä»¥å¿…é ˆå¯«æˆï¼š`: school(schoolName), age(a)`ï¼Œé€™æ˜¯**å»ºæ§‹å­åˆå§‹åŒ–åˆ—è¡¨ï¼ˆinitializer listï¼‰**ã€‚
    
## âŒ éŒ¯èª¤ç¤ºç¯„ï¼ˆæœƒç·¨è­¯å¤±æ•—ï¼‰ï¼š
```cpp
class Student { 
	private:     
		const string school;     
		int age;  
	public:     
		Student(string schoolName, int a) {
        school = schoolName; // âŒ éŒ¯èª¤ï¼šconst ä¸èƒ½é€™æ¨£è³¦å€¼
        age = a;     
        } 
};
```

â›” éŒ¯èª¤è¨Šæ¯æœƒåƒé€™æ¨£ï¼š
```cpp
error: assignment of read-only member â€˜Student::schoolâ€™
```
---
## ğŸ¯ é€²ä¸€æ­¥èˆ‰ä¾‹ï¼šreference æˆå“¡
```cpp
class Student { 
	private:     
		string& nickname;  // reference å¿…é ˆåˆå§‹åŒ–     
		int age;  
	public:     
		Student(string& nick, int a) : nickname(nick), age(a) { 
	        cout << "âœ… nickname æŒ‡å‘çš„æ˜¯ï¼š" << nickname << endl;     
	    } 
};
```

- `string& nickname` æ˜¯ä¸€å€‹ referenceï¼ˆåƒè€ƒï¼‰ï¼Œä¸€æ¨£åªèƒ½åœ¨åˆå§‹åŒ–æ™‚è¨­å®šã€‚
    
- å¦‚æœä½ **æ²’æœ‰åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­æŒ‡å®š nickname çš„å°è±¡**ï¼Œç·¨è­¯å™¨ä¹Ÿæœƒå ±éŒ¯ï¼
    
## ğŸ’¥ çµè«–ï¼šå¦‚æœé¡åˆ¥æˆå“¡æœ‰é€™äº›ï¼Œä½ **ä¸èƒ½ä¾è³´å§”æ´¾å»ºæ§‹å­çš„åˆå§‹åŒ–é‚è¼¯ï¼**

|æˆå“¡é¡å‹|æ˜¯å¦èƒ½åœ¨å»ºæ§‹å­æœ¬é«”å…§è³¦å€¼ï¼Ÿ|æ˜¯å¦éœ€è¦åˆå§‹åŒ–åˆ—è¡¨ï¼Ÿ|å¯å¦é å§”æ´¾åˆå§‹åŒ–ï¼Ÿ|
|---|---|---|---|
|ä¸€èˆ¬è®Šæ•¸ï¼ˆå¦‚ `int`ï¼‰|âœ… å¯ä»¥|âŒ ä¸ä¸€å®š|âœ… å¯ä»¥|
|`const` è®Šæ•¸|âŒ ä¸è¡Œ|âœ… å¿…é ˆ|âœ… å¯ä»¥|
|`reference` è®Šæ•¸|âŒ ä¸è¡Œ|âœ… å¿…é ˆ|âœ… å¯ä»¥ï¼Œä½†éœ€å°å¿ƒé †åº|

---
## âš ï¸ å§”æ´¾å»ºæ§‹å­ + const æˆå“¡çš„æ³¨æ„é»
```cpp
class Student { 
	private:     
		const string school;  
		
	public:     // ä¸»å»ºæ§‹å­ï¼Œè™•ç† const åˆå§‹åŒ–     
	Student(string s) : school(s) {         
		cout << "ä¸»å»ºæ§‹å­\n";     
	}      // âŒ å§”æ´¾å»ºæ§‹å­è‹¥æ²’åˆå§‹åŒ– constï¼Œæœƒç·¨è­¯éŒ¯     
	
	Student() : Student("Default School") {         
		cout << "å§”æ´¾å»ºæ§‹å­\n";     
	} 
};
```
âœ… é€™æ¨£å¯ä»¥ï¼Œä½†è¦è¨˜ä½ï¼š**åªæœ‰ä¸»å»ºæ§‹å­èƒ½åˆå§‹åŒ– const æˆå“¡**ï¼Œå› ç‚ºä¸€æ—¦å§”æ´¾äº†ï¼Œå°±ç„¡æ³•åœ¨è‡ªå·±é€™å±¤åˆå§‹åŒ– constï¼

---
## ğŸ§© åœ–è§£è£œå……ï¼šæˆå“¡åˆå§‹åŒ–åœ¨å“ªè£¡ï¼Ÿ

```cpp
class Student {
    const string school;
    string& nickname;
    int age;

    // âœ… å»ºæ§‹å­åˆå§‹åŒ–åˆ—è¡¨è™•ç†ï¼š
    Student(string s, string& n, int a) 
        : school(s), nickname(n), age(a){
        // âŒ ç„¡æ³•åœ¨é€™è£¡æ”¹ school æˆ– nickname
    }
};
```
---
# ğŸ“œåŠ å…¥const å’Œ reference æˆå“¡åˆ°å§”æ´¾å»ºæ§‹å­çš„ä¾‹å­

```cpp
#include <iostream>
#include <string>
using namespace std;

class Person {
private:
    const string school;            // const æˆå“¡ï¼Œå¿…é ˆåœ¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–
    string& nickname;               // reference æˆå“¡ï¼Œå¿…é ˆåœ¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–
    int age;

    // ç”¨ä¾†æä¾›åƒè€ƒç”¨çš„ã€Œé è¨­æš±ç¨±ã€
    static string default_nick;

public:
    // ä¸»å»ºæ§‹å­ï¼šæœ€å®Œæ•´çš„åˆå§‹åŒ–å…¥å£
    Person(const string& schoolName,
           string& nick,
           int a)
      : school(schoolName), nickname(nick), age(a)
    {
        cout << "[ä¸»å»ºæ§‹å­] åˆå§‹åŒ–å®Œæˆï¼š"
             << "school = " << school
             << ", nickname = " << nickname
             << ", age = " << age
             << endl;
    }

    // å§”æ´¾å»ºæ§‹å­ 1ï¼šåªçµ¦å­¸æ ¡åç¨±
    Person(const string& schoolName)
      : Person(schoolName, default_nick, 0)   // â†’ å§”æ´¾çµ¦ã€Œä¸»å»ºæ§‹å­ã€
    {
        cout << "[å§”æ´¾å»ºæ§‹å­] åªæŒ‡å®š schoolï¼Œä½¿ç”¨ default_nickã€age = 0" << endl;
    }

    // å§”æ´¾å»ºæ§‹å­ 2ï¼šä¸çµ¦ä»»ä½•åƒæ•¸
    Person()
      : Person("Default School", default_nick, 18)  // â†’ å§”æ´¾çµ¦ã€Œä¸»å»ºæ§‹å­ã€
    {
        cout << "[å§”æ´¾å»ºæ§‹å­] ä½¿ç”¨å®Œå…¨é è¨­å€¼ (Default School, default_nick, 18)" << endl;
    }
};

// éœæ…‹æˆå“¡å®šç¾©
string Person::default_nick = "NoNickname";

int main() {
    cout << "=== å»ºç«‹ p1 ===" << endl;
    Person p1;                  // å‘¼å«ç„¡åƒæ•¸å§”æ´¾å»ºæ§‹å­

    cout << "\n=== å»ºç«‹ p2 ===" << endl;
    Person p2("High School");   // å‘¼å«å–®åƒå§”æ´¾å»ºæ§‹å­

    cout << "\n=== å»ºç«‹ p3 ===" << endl;
    string myNick = "TomCat";
    Person p3("University", myNick, 20);   // ç›´æ¥å‘¼å«ä¸»å»ºæ§‹å­

    return 0;
}
```

## åŸ·è¡Œçµæœ (ç¤ºæ„)

```cpp
=== å»ºç«‹ p1 ===
[ä¸»å»ºæ§‹å­] åˆå§‹åŒ–å®Œæˆï¼šschool = Default School, nickname = NoNickname, age = 18
[å§”æ´¾å»ºæ§‹å­] ä½¿ç”¨å®Œå…¨é è¨­å€¼ (Default School, default_nick, 18)

=== å»ºç«‹ p2 ===
[ä¸»å»ºæ§‹å­] åˆå§‹åŒ–å®Œæˆï¼šschool = High School, nickname = NoNickname, age = 0
[å§”æ´¾å»ºæ§‹å­] åªæŒ‡å®š schoolï¼Œä½¿ç”¨ default_nickã€age = 0

=== å»ºç«‹ p3 ===
[ä¸»å»ºæ§‹å­] åˆå§‹åŒ–å®Œæˆï¼šschool = University, nickname = TomCat, age = 20
```
## å‘¼å«é †åºæ‹†è§£ï¼ˆä»¥ `Person p2("High School");` ç‚ºä¾‹ï¼‰

1. ç·¨è­¯å™¨çœ‹åˆ° `Person(const string&)` â†’ åŸ·è¡Œæ­¤å§”æ´¾å»ºæ§‹å­
    
2. åˆå§‹åŒ–åˆ—è¡¨ `: Person(schoolName, default_nick, 0)` â†’ è·³å»å‘¼å«ä¸»å»ºæ§‹å­
    
3. ä¸»å»ºæ§‹å­åŸ·è¡Œåˆå§‹åŒ–åˆ—è¡¨ï¼š
    
    - `school(schoolName)`
        
    - `nickname(default_nick)`
        
    - `age(0)`
        
4. ä¸»å»ºæ§‹å­æœ¬é«”å°å‡º `[ä¸»å»ºæ§‹å­] ...`
    
5. è¿”å›åˆ°å§”æ´¾å»ºæ§‹å­æœ¬é«”ï¼Œå°å‡º `[å§”æ´¾å»ºæ§‹å­] ...`
    
é€™æ¨£çš„è¨­è¨ˆèƒ½ç¢ºä¿ï¼š

- **`const`**ã€**`reference`** æˆå“¡åœ¨æœ€åº•å±¤çš„ä¸»å»ºæ§‹å­è£¡ä¸€æ¬¡å®Œæˆåˆå§‹åŒ–ã€‚
    
- å…¶ä»–å§”æ´¾å»ºæ§‹å­ **ä¸éœ€è¦é‡è¤‡ã€Œåˆå§‹åŒ–ã€é‚è¼¯**ï¼Œåªå°ˆæ³¨åœ¨ã€Œå‘¼å«ä¸åŒé è¨­åƒæ•¸ã€å’Œã€Œå°å‡ºå°æ‡‰è¨Šæ¯ã€ã€‚
    
- ç¨‹å¼çµæ§‹æ¸…æ™°ã€æ˜“ç¶­è­·ã€‚
---
