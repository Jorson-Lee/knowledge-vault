# ğŸ“¤ Streams and I/Oï¼ˆè³‡æ–™æµèˆ‡è¼¸å…¥è¼¸å‡ºï¼‰

C++ ä¸­çš„ I/O ç³»çµ±åŸºæ–¼ **streamsï¼ˆè³‡æ–™æµï¼‰** çš„æ¦‚å¿µä¾†é€²è¡Œè¼¸å…¥èˆ‡è¼¸å‡ºæ“ä½œã€‚é€™æä¾›äº†ä¸€å€‹æŠ½è±¡çš„æ©Ÿåˆ¶ï¼Œä½¿ç¨‹å¼ç¢¼ä¸éœ€ç›´æ¥è™•ç†åº•å±¤è£ç½®ç´°ç¯€å³å¯èˆ‡å¤šç¨®è¼¸å…¥è¼¸å‡ºä¾†æºäº’å‹•ï¼ˆä¾‹å¦‚éµç›¤ã€æª”æ¡ˆã€è¢å¹•ç­‰ï¼‰ã€‚

## ğŸ”¸ 1. Stream æ˜¯ä»€éº¼ï¼Ÿ

- **Stream æ˜¯ä¸€å€‹ä½å…ƒåºåˆ—ï¼ˆSequence of bytesï¼‰**ï¼Œåœ¨åŸ·è¡ŒæœŸé–“è‡ªå‹•è™•ç†è³‡æ–™çš„æµå‹•æ–¹å‘ã€‚
    
- ä»¥çµ±ä¸€çš„æ–¹å¼è™•ç† **æ–‡å­—ï¼ˆtextï¼‰** èˆ‡ **äºŒé€²ä½ï¼ˆbinaryï¼‰** çš„è³‡æ–™ã€‚
    

## ğŸ”¸ 2. è¼¸å…¥èˆ‡è¼¸å‡ºè³‡æ–™æµçš„æ–¹å‘

- **Input Streamï¼ˆè¼¸å…¥æµï¼‰**ï¼šæä¾›è³‡æ–™çµ¦ç¨‹å¼ã€‚
    
    - ä¾‹å¦‚ `std::cin` å¾éµç›¤è®€å–è¼¸å…¥ã€‚
        
- **Output Streamï¼ˆè¼¸å‡ºæµï¼‰**ï¼šæ¥æ”¶è³‡æ–™ä¸¦è¼¸å‡ºåˆ°è£ç½®ã€‚
    
    - ä¾‹å¦‚ `std::cout` è¼¸å‡ºåˆ°è¢å¹•ã€‚
        

## ğŸ”¸ 3. èˆ‡è£ç½®ç„¡é—œçš„è¨­è¨ˆï¼ˆDevice Independentï¼‰

- Streams æä¾›çµ±ä¸€çš„ä»‹é¢ï¼Œç„¡è«–è¼¸å…¥ä¾†æºæ˜¯éµç›¤ã€æª”æ¡ˆæˆ–ç¶²è·¯ï¼Œç¨‹å¼ä»‹é¢ä¸è®Šã€‚
    
- é€™ç¨®æŠ½è±¡åŒ–ä½¿ç¨‹å¼å…·å‚™è‰¯å¥½çš„å¯æ”œæ€§èˆ‡å¯ç¶­è­·æ€§ã€‚
    

---

# ğŸ›ï¸ Stream Manipulatorsï¼ˆè³‡æ–™æµæ ¼å¼æ§åˆ¶å™¨ï¼‰

åœ¨è¼¸å…¥è¼¸å‡ºæ“ä½œä¸­ï¼Œæˆ‘å€‘æœ‰æ™‚å¸Œæœ›æ§åˆ¶è¼¸å‡ºçš„æ ¼å¼ï¼Œä¾‹å¦‚è¨­å®šæ¬„å¯¬ã€å°é½Šæ–¹å¼ã€æµ®é»æ•¸ç²¾åº¦ç­‰ã€‚C++ æä¾›äº†å…©ç¨®æ–¹å¼é”æˆé€™äº›ç›®çš„ï¼š

## ğŸ”¸ 1. æˆå“¡å‡½å¼ï¼ˆMember Functionsï¼‰

- ä½¿ç”¨ stream ç‰©ä»¶çš„æ–¹æ³•ä¾†æ”¹è®Šç‹€æ…‹ï¼š
    
    ```cpp
    std::cout.width(10);  // å°‡ä¸‹ä¸€æ¬¡è¼¸å‡ºçš„æ¬„å¯¬è¨­ç‚º 10
    ```
    

## ğŸ”¸ 2. Manipulatorsï¼ˆæ“ä½œå­/æ ¼å¼æ§åˆ¶å­ï¼‰

- ä½¿ç”¨ `<iomanip>` æ¨™é ­æª”ä¸­çš„ **æ“æ§å‡½å¼**ï¼ˆå‡½å¼ç‰©ä»¶ï¼‰ä¾†é”åˆ°ç›¸åŒæ•ˆæœï¼Œæ›´å¸¸è¦‹æ–¼è¼¸å‡ºä¸²æ¥æ“ä½œä¸­ï¼š
    
    ```cpp
    #include <iomanip>
    std::cout << std::setw(10) << 123;  // è¼¸å‡ºæ¬„å¯¬ç‚º10çš„æ•¸å­—
    ```
    

## ğŸ”¸ 3. ä½¿ç”¨å ´æ™¯

- å¯ç”¨æ–¼ **è¼¸å…¥** èˆ‡ **è¼¸å‡º** æµã€‚
    
- æœ‰äº› manipulator åƒ…åœ¨ä½œç”¨ç•¶ä¸‹ç”Ÿæ•ˆï¼ˆå¦‚ `std::setw()`ï¼‰ï¼Œæœ‰äº›æœƒå½±éŸ¿æ•´å€‹ stream ç‹€æ…‹ï¼ˆå¦‚ `std::fixed`, `std::setprecision()`ï¼‰ã€‚
    

## ğŸ”¸ 4. å¸¸è¦‹ Manipulatorsï¼ˆä¾†è‡ª `<iomanip>`ï¼‰

| Manipulator            | èªªæ˜                        |
| ---------------------- | ------------------------- |
| `std::setw(n)`         | è¨­å®šæ¬„å¯¬ç‚º nï¼ˆåªä½œç”¨æ–¼ä¸‹ä¸€å€‹è¼¸å‡ºï¼‰        |
| `std::setprecision(n)` | è¨­å®šæµ®é»æ•¸ç²¾åº¦ç‚º n ä½æ•¸             |
| `std::fixed`           | ä½¿ç”¨å›ºå®šå°æ•¸é»æ ¼å¼                 |
| `std::scientific`      | ä½¿ç”¨ç§‘å­¸è¨˜è™Ÿæ ¼å¼                  |
| `std::left`            | å·¦å°é½Š                       |
| `std::right`           | å³å°é½Š                       |
| `std::showpoint`       | é¡¯ç¤ºå°æ•¸é»èˆ‡æœ«å°¾çš„ 0               |
| `std::boolalpha`       | å°‡ bool é¡¯ç¤ºç‚º `true`/`false` |

---

## ğŸ”˜ Stream Manipulators - Boolean

C++ é è¨­æƒ…æ³ä¸‹ï¼Œ`bool` å‹åˆ¥çš„è¼¸å‡ºæœƒé¡¯ç¤ºç‚º `0` æˆ– `1`ã€‚ä½†å¯ä»¥ä½¿ç”¨ manipulators ä¾†æ”¹è®Šé€™å€‹æ ¼å¼ï¼š

|Manipulator|èªªæ˜|
|---|---|
|`std::boolalpha`|å°‡ `true`/`false` ä»¥æ–‡å­—å½¢å¼é¡¯ç¤º|
|`std::noboolalpha`|å›å¾©ç‚ºæ•¸å€¼å½¢å¼ï¼ˆ1/0ï¼‰|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
#include <iostream>
int main() {
    std::cout << std::boolalpha << true << " " << false << "\n"; // true false
    std::cout << std::noboolalpha << true << " " << false << "\n"; // 1 0
}
```

---

## ğŸ”¢ Stream Manipulators - Integers

æ•´æ•¸çš„è¼¸å‡ºæ ¼å¼ä¹Ÿå¯ä»¥é€é manipulators æ§åˆ¶ï¼ŒåŒ…æ‹¬æ•¸å­—é€²ä½æ³•èˆ‡ç¬¦è™Ÿé¡¯ç¤ºï¼š

|Manipulator|èªªæ˜|
|---|---|
|`std::dec`|åé€²ä½ï¼ˆé è¨­ï¼‰|
|`std::hex`|åå…­é€²ä½|
|`std::oct`|å…«é€²ä½|
|`std::showbase`|é¡¯ç¤ºåŸºåº•ï¼ˆ0x for hexï¼Œ0 for octï¼‰|
|`std::noshowbase`|ä¸é¡¯ç¤ºåŸºåº•|
|`std::showpos`|é¡¯ç¤ºæ­£è™Ÿï¼ˆ+ï¼‰|
|`std::noshowpos`|ä¸é¡¯ç¤ºæ­£è™Ÿï¼ˆé è¨­ï¼‰|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
#include <iostream>
int main() {
    int value = 42;
    std::cout << std::hex << value << "\n";         // 2a
    std::cout << std::showbase << value << "\n";    // 0x2a
    std::cout << std::dec << std::showpos << value << "\n"; // +42
}
```

---

## ğŸ”£ Stream Manipulators - Floating Point

æµ®é»æ•¸çš„æ ¼å¼å¯ç”¨ä¸‹åˆ— manipulators æ§åˆ¶å…¶é¡¯ç¤ºæ–¹å¼èˆ‡ç²¾åº¦ï¼š

|Manipulator|èªªæ˜|
|---|---|
|`std::fixed`|ä½¿ç”¨å›ºå®šå°æ•¸é»æ ¼å¼ï¼ˆä¾‹å¦‚ 123.45ï¼‰|
|`std::scientific`|ä½¿ç”¨ç§‘å­¸è¨˜è™Ÿæ ¼å¼ï¼ˆä¾‹å¦‚ 1.2345e+02ï¼‰|
|`std::setprecision(n)`|è¨­å®šé¡¯ç¤ºçš„ç¸½ç²¾åº¦æˆ–å°æ•¸ä½æ•¸ï¼ˆä¾æ ¼å¼è€Œå®šï¼‰|
|`std::showpoint`|å³ä½¿å°æ•¸éƒ¨åˆ†ç‚º 0 ä¹Ÿé¡¯ç¤ºå°æ•¸é»ï¼ˆä¾‹å¦‚ 123.0ï¼‰|
|`std::noshowpoint`|éš±è—ä¸å¿…è¦çš„å°æ•¸é»ï¼ˆé è¨­ï¼‰|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
#include <iostream>
#include <iomanip>
int main() {
    double pi = 3.14159;
    std::cout << std::fixed << std::setprecision(2) << pi << "\n";     // 3.14
    std::cout << std::scientific << std::setprecision(3) << pi << "\n"; // 3.142e+00
    std::cout << std::showpoint << 10.0 << "\n";                        // 10.000
}
```

---

## ğŸ“ Stream Manipulators - Align and Fillï¼ˆå°é½Šèˆ‡å¡«å……ï¼‰

å¯ä»¥ä½¿ç”¨ manipulators èª¿æ•´è¼¸å‡ºçš„å°é½Šæ–¹å¼èˆ‡å¡«å……å­—å…ƒï¼Œå¸¸è¦‹æ–¼è¡¨æ ¼ã€å ±è¡¨æ ¼å¼ï¼š

|Manipulator|èªªæ˜|
|---|---|
|`std::setw(n)`|è¨­å®šæ¬„å¯¬ç‚º n|
|`std::left`|å·¦å°é½Š|
|`std::right`|å³å°é½Šï¼ˆé è¨­ï¼‰|
|`std::internal`|ç¬¦è™Ÿé å·¦ï¼Œæ•¸å­—é å³ï¼ˆå¸¸ç”¨æ–¼æ•¸å­—ï¼‰|
|`std::setfill(c)`|å°‡ç©ºç™½å¡«æ»¿ç‚ºæŒ‡å®šå­—å…ƒ c|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
#include <iostream>
#include <iomanip>
int main() {
    std::cout << std::setw(10) << std::right << 42 << "\n";           // "        42"
    std::cout << std::setw(10) << std::left  << 42 << "\n";           // "42        "
    std::cout << std::setw(10) << std::setfill('*') << 42 << "\n";    // "********42"
}
```

---
 
#  **manipulator functionï¼ˆæ“æ§å™¨å‡½å¼ï¼‰** çš„ã€Œç”Ÿæ•ˆç¯„åœã€ï¼š

### âœ… **ä¸€ã€çŸ­æ•ˆ manipulatorsï¼ˆåªå½±éŸ¿ä¸‹ä¸€ç­†è¼¸å‡ºï¼‰**

é€™é¡ manipulator çš„æ•ˆæœ **åªä½œç”¨æ–¼ä¸‹ä¸€æ¬¡çš„è¼¸å‡ºæˆ–è¼¸å…¥**ï¼Œä¾‹å¦‚ï¼š

|Manipulator|ç”Ÿæ•ˆç¯„åœ|
|---|---|
|`std::setw()`|**åªå°ä¸‹ä¸€æ¬¡è¼¸å‡ºç”Ÿæ•ˆ**|
|`std::setfill()`|æŒçºŒç”Ÿæ•ˆï¼Œç›´åˆ°è¢«æ”¹è®Šç‚ºæ­¢|
|`std::setprecision()`|æŒçºŒç”Ÿæ•ˆ|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
std::cout << std::setw(10) << 123 << 456; 
// çµæœï¼š "       123456"
// `123` å—æ¬„å¯¬é™åˆ¶ï¼Œä½† `456` ä¸æœƒ
```

---

### âœ… **äºŒã€é•·æ•ˆ manipulatorsï¼ˆæœƒæ”¹è®Š stream ç‹€æ…‹ï¼‰**

é€™äº› manipulator å¯¦éš›ä¸Šæœƒä¿®æ”¹è¼¸å‡ºä¸²æµå…§éƒ¨çš„æ ¼å¼æ——æ¨™ï¼ˆformat flagsï¼‰ï¼Œ**å½±éŸ¿å¾ŒçºŒæ‰€æœ‰è¼¸å‡º**ï¼Œç›´åˆ°è¢«å…¶ä»– manipulator æˆ–æ“ä½œé‚„åŸç‚ºæ­¢ï¼š

|Manipulator|ç”Ÿæ•ˆç¯„åœ|
|---|---|
|`std::fixed`|**æŒçºŒç”Ÿæ•ˆ**ï¼Œç›´åˆ°è¨­ç‚º `std::scientific` æˆ–å…¶ä»–|
|`std::scientific`|åŒä¸Š|
|`std::showpos`|æŒçºŒç”Ÿæ•ˆ|
|`std::showpoint`|æŒçºŒç”Ÿæ•ˆ|
|`std::boolalpha`|æŒçºŒç”Ÿæ•ˆ|
|`std::hex`, `std::dec`, `std::oct`|æŒçºŒç”Ÿæ•ˆ|
|`std::left`, `std::right`, `std::internal`|æŒçºŒç”Ÿæ•ˆ|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
std::cout << std::fixed << std::setprecision(2);
std::cout << 3.14159 << "\n";  // è¼¸å‡ºï¼š3.14
std::cout << 2.71828 << "\n";  // è¼¸å‡ºï¼š2.72
// `fixed` å’Œ `setprecision` æŒçºŒæœ‰æ•ˆ
```

---

# ğŸ“‚ Input Files â€“ `fstream` and `ifstream`

åœ¨ C++ ä¸­ï¼Œè™•ç†æª”æ¡ˆè¼¸å…¥çš„æœ€å¸¸è¦‹æ–¹å¼å°±æ˜¯ä½¿ç”¨ `<fstream>` æ¨™é ­æª”è£¡çš„ `ifstream` æˆ– `fstream` é¡åˆ¥ã€‚é€™äº›é¡åˆ¥ç¹¼æ‰¿è‡ª `istream`ï¼Œå¯è®“ä½ åƒæ“ä½œ `std::cin` ä¸€æ¨£ï¼Œ**ç›´æ¥å¾æª”æ¡ˆä¸­è®€å–è³‡æ–™**ã€‚

---

## ğŸ”¹ æ­¥é©Ÿ 1ï¼š`#include <fstream>`

é¦–å…ˆï¼Œè¦ä½¿ç”¨æª”æ¡ˆè¼¸å…¥åŠŸèƒ½ï¼Œä½ éœ€è¦å¼•å…¥ä»¥ä¸‹æ¨™é ­æª”ï¼š

```cpp
#include <fstream>
```

---

## ğŸ”¹ æ­¥é©Ÿ 2ï¼šå®£å‘Š `ifstream` æˆ– `fstream` ç‰©ä»¶

```cpp
std::ifstream inFile;       // åƒ…ä¾›è¼¸å…¥
std::fstream fileStream;    // å¯ç”¨æ–¼è¼¸å…¥èˆ‡è¼¸å‡ºï¼ˆéœ€æŒ‡å®šæ¨¡å¼ï¼‰
```

- `ifstream` æ˜¯å°ˆé–€ç”¨ä¾†è®€å–æª”æ¡ˆçš„é¡åˆ¥ã€‚
    
- `fstream` å‰‡å¯åŒæ™‚ç”¨æ–¼è¼¸å…¥èˆ‡è¼¸å‡ºï¼Œä½†éœ€æ­é… mode æŒ‡å®šè®€/å¯«æ¬Šé™ã€‚
    

---

## ğŸ”¹ æ­¥é©Ÿ 3ï¼šé€£æ¥æª”æ¡ˆï¼ˆé–‹å•Ÿæª”æ¡ˆï¼‰

ä½ å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼é–‹å•Ÿæª”æ¡ˆï¼š

```cpp
inFile.open("data.txt");  // ç”¨é è¨­æ¨¡å¼é–‹å•Ÿä»¥è®€å–
```

æˆ–ç›´æ¥åœ¨å»ºæ§‹æ™‚çµ¦æª”åï¼š

```cpp
std::ifstream inFile("data.txt");
```

âœ… **å°æé†’**ï¼šæª”æ¡ˆé–‹å•Ÿå¤±æ•—æ™‚ï¼Œ`inFile` æœƒè™•æ–¼éŒ¯èª¤ç‹€æ…‹ï¼Œæ‡‰è©²æª¢æŸ¥ï¼š

```cpp
if (!inFile) {
    std::cerr << "æª”æ¡ˆç„¡æ³•é–‹å•Ÿï¼\n";
}
```

---

## ğŸ”¹ æ­¥é©Ÿ 4ï¼šé€é stream è®€å–è³‡æ–™

æª”æ¡ˆé–‹å•Ÿå¾Œï¼Œå¯ä»¥ç”¨å’Œ `cin` ä¸€æ¨£çš„æ–¹å¼è®€å–è³‡æ–™ï¼š

```cpp
int num;
std::string word;

inFile >> num >> word;
```

ğŸ“Œ æˆ–ä½¿ç”¨ `getline` é€è¡Œè®€å–ï¼š

```cpp
std::string line;
while (std::getline(inFile, line)) {
    std::cout << line << "\n";
}
```

---

## ğŸ”¹ æ­¥é©Ÿ 5ï¼šé—œé–‰æª”æ¡ˆï¼ˆGood Practiceï¼‰

å®Œæˆè®€å–å¾Œï¼Œè¨˜å¾—ä½¿ç”¨ `.close()` é—œé–‰æª”æ¡ˆï¼š

```cpp
inFile.close();
```

é›–ç„¶é›¢é–‹å€å¡Šæ™‚ destructor æœƒè‡ªå‹•é—œé–‰æª”æ¡ˆï¼Œä½†æ˜ç¢ºé—œé–‰æ˜¯ä¸€ç¨®è‰¯å¥½ç¿’æ…£ï¼Œå°¤å…¶æ˜¯åœ¨é–‹å•Ÿå¤šå€‹æª”æ¡ˆæˆ–éœ€å¯«å…¥çš„æƒ…æ³ä¸‹ã€‚

---

### ğŸ“Œ å®Œæ•´ç¯„ä¾‹

```cpp
#include <iostream>
#include <fstream>
#include <string>

int main() {
    std::ifstream inFile("example.txt");

    if (!inFile) {
        std::cerr << "æª”æ¡ˆç„¡æ³•é–‹å•Ÿï¼\n";
        return 1;
    }

    std::string line;
    while (std::getline(inFile, line)) {
        std::cout << line << "\n";
    }

    inFile.close();
    return 0;
}
```

---

# ğŸ“¤ Output Files â€“ `fstream` and `ofstream`

åœ¨ C++ ä¸­ï¼Œè¼¸å‡ºè³‡æ–™åˆ°æª”æ¡ˆå¸¸ä½¿ç”¨ `<fstream>` æ¨™é ­ä¸­çš„ `ofstream` æˆ– `fstream` é¡åˆ¥ã€‚é€™äº›é¡åˆ¥ç¹¼æ‰¿è‡ª `ostream`ï¼Œå¯è®“ä½ åƒä½¿ç”¨ `std::cout` ä¸€æ¨£ï¼Œ**å°‡è³‡æ–™å¯«å…¥æª”æ¡ˆ**ã€‚

---

## ğŸ”¹ æ­¥é©Ÿ 1ï¼š`#include <fstream>`

ä½¿ç”¨æª”æ¡ˆè¼¸å‡ºåŠŸèƒ½å‰ï¼Œå¿…é ˆå¼•å…¥æ¨™é ­æª”ï¼š

```cpp
#include <fstream>
```

---

## ğŸ”¹ æ­¥é©Ÿ 2ï¼šå®£å‘Š `ofstream` æˆ– `fstream` ç‰©ä»¶

```cpp
std::ofstream outFile;      // åƒ…ä¾›è¼¸å‡º
std::fstream fileStream;    // å¯ç”¨æ–¼è¼¸å…¥èˆ‡è¼¸å‡ºï¼ˆéœ€æŒ‡å®šæ¨¡å¼ï¼‰
```

- `ofstream`ï¼šå°ˆé–€ç”¨æ–¼è¼¸å‡ºè³‡æ–™åˆ°æª”æ¡ˆã€‚
    
- `fstream`ï¼šå¯åŒæ™‚ç”¨æ–¼è®€å¯«ï¼Œä½†å¿…é ˆæŒ‡å®šæ¨¡å¼ï¼ˆå¦‚ `std::ios::out`ï¼‰ã€‚
    

---

## ğŸ”¹ æ­¥é©Ÿ 3ï¼šé€£æ¥æª”æ¡ˆï¼ˆé–‹å•Ÿæª”æ¡ˆå¯«å…¥ï¼‰

å¯ä»¥ç”¨ `.open()` å‡½å¼ï¼Œä¹Ÿå¯åœ¨å»ºæ§‹æ™‚æŒ‡å®šæª”åï¼š

```cpp
outFile.open("output.txt");         // æ˜ç¢ºé–‹å•Ÿ
std::ofstream outFile("output.txt"); // å»ºæ§‹æ™‚é–‹å•Ÿ
```

ğŸ’¡ **æ³¨æ„**ï¼šå¦‚æœæª”æ¡ˆå­˜åœ¨ï¼Œé è¨­æœƒè¢«æ¸…ç©ºï¼ˆtruncatedï¼‰ã€‚

âœ… è‹¥è¦é¿å…è¦†è“‹ï¼Œå¯åŠ  `std::ios::app` æ¨¡å¼ï¼š

```cpp
std::ofstream outFile("output.txt", std::ios::app); // è¿½åŠ æ¨¡å¼
```

---

## ğŸ”¹ æ­¥é©Ÿ 4ï¼šé€é stream å¯«å…¥è³‡æ–™

èˆ‡ `std::cout` ç›¸åŒï¼Œä½¿ç”¨ `<<` å°‡è³‡æ–™å¯«å…¥æª”æ¡ˆï¼š

```cpp
outFile << "Hello, file!" << "\n";
int x = 42;
outFile << "x = " << x << std::endl;
```

ä¹Ÿå¯ç”¨ `put()` å¯«å…¥å–®ä¸€å­—å…ƒï¼š

```cpp
outFile.put('A');
```

---

## ğŸ”¹ æ­¥é©Ÿ 5ï¼šé—œé–‰æª”æ¡ˆï¼ˆGood Practiceï¼‰

å¯«å…¥å®Œæˆå¾Œï¼Œè«‹ä½¿ç”¨ `.close()` é—œé–‰æª”æ¡ˆï¼š

```cpp
outFile.close();
```

é›–ç„¶æª”æ¡ˆç‰©ä»¶åœ¨é›¢é–‹ä½œç”¨ç¯„åœå¾Œæœƒè‡ªå‹•é—œé–‰ï¼Œä½†æ˜ç¢ºå‘¼å« `.close()` èƒ½è®“ä½ æ›´æ—©é‡‹æ”¾è³‡æºï¼Œç‰¹åˆ¥æ˜¯åœ¨å¤šæª”æ¡ˆæ“ä½œæ™‚å¾ˆé‡è¦ã€‚

---

### ğŸ“Œ å®Œæ•´ç¯„ä¾‹

```cpp
#include <iostream>
#include <fstream>

int main() {
    std::ofstream outFile("output.txt");

    if (!outFile) {
        std::cerr << "æª”æ¡ˆç„¡æ³•é–‹å•Ÿï¼\n";
        return 1;
    }

    outFile << "é€™æ˜¯å¯«å…¥æª”æ¡ˆçš„æ–‡å­—ã€‚" << std::endl;
    outFile << "æ•¸å€¼ï¼š " << 123 << "\n";

    outFile.close();
    return 0;
}
```

---

# ğŸ“š å¸¸è¦‹çš„æª”æ¡ˆä¸²æµæ–¹æ³•ï¼ˆé©ç”¨æ–¼ `ifstream` / `fstream`ï¼‰

ä»¥ä¸‹é€™äº›æˆå“¡å‡½å¼å¯ç”¨æ–¼æª¢æŸ¥æª”æ¡ˆç‹€æ…‹ã€æ§åˆ¶è®€å¯«ä½ç½®ã€æˆ–è™•ç†éŒ¯èª¤ï¼š

---

## ğŸ” ç‹€æ…‹æª¢æŸ¥èˆ‡æ§åˆ¶

|æ–¹æ³• / å±¬æ€§|èªªæ˜|
|---|---|
|`.is_open()`|æª¢æŸ¥æª”æ¡ˆæ˜¯å¦æˆåŠŸé–‹å•Ÿã€‚å›å‚³ `true` æˆ– `false`ã€‚|
|`.good()`|æª¢æŸ¥æ˜¯å¦è™•æ–¼ã€Œå¥½ç‹€æ…‹ã€ï¼ˆæ²’æœ‰éŒ¯èª¤ï¼‰ã€‚|
|`.eof()`|æ˜¯å¦åˆ°é”æª”æ¡ˆçµå°¾ï¼ˆEnd Of Fileï¼‰ã€‚|
|`.fail()`|æ˜¯å¦ç™¼ç”Ÿå¤±æ•—ï¼ˆé€šå¸¸æ˜¯æ ¼å¼éŒ¯èª¤æˆ–é–‹å•Ÿå¤±æ•—ï¼‰ã€‚|
|`.bad()`|æ˜¯å¦ç™¼ç”Ÿåš´é‡éŒ¯èª¤ï¼ˆä¾‹å¦‚ç¡¬ç¢Ÿæå£ã€ç³»çµ±éŒ¯èª¤ï¼‰ã€‚|
|`.clear()`|é‡è¨­éŒ¯èª¤ç‹€æ…‹ï¼ˆæ¸…é™¤ `.fail()` æˆ– `.bad()` ç‹€æ…‹ï¼‰ã€‚|

ğŸ“Œ ç¯„ä¾‹ï¼š

```cpp
std::ifstream inFile("data.txt");
if (inFile.is_open()) {
    if (inFile.fail()) {
        std::cerr << "è®€å–å¤±æ•—ï¼\n";
        inFile.clear();  // é‡è¨­éŒ¯èª¤ç‹€æ…‹
    }
}
```

---

## ğŸ§­ ä½ç½®æ§åˆ¶ï¼ˆé©ç”¨æ–¼ `ifstream` / `ofstream` / `fstream`ï¼‰

ç”¨ä¾†æŸ¥è©¢æˆ–æ”¹è®Šæª”æ¡ˆçš„è®€å¯«ä½ç½®ï¼ˆé©ç”¨æ–¼éš¨æ©Ÿå­˜å–ï¼‰ï¼š

|æ–¹æ³•|èªªæ˜|
|---|---|
|`.tellg()`|å‚³å›ç›®å‰ã€Œè®€å–ä½ç½®ã€çš„ä½å…ƒçµ„ç´¢å¼•ï¼ˆ`ifstream`ï¼‰|
|`.tellp()`|å‚³å›ç›®å‰ã€Œå¯«å…¥ä½ç½®ã€çš„ä½å…ƒçµ„ç´¢å¼•ï¼ˆ`ofstream`ï¼‰|
|`.seekg(pos)`|å°‡è®€å–ä½ç½®ç§»å‹•åˆ° `pos`|
|`.seekp(pos)`|å°‡å¯«å…¥ä½ç½®ç§»å‹•åˆ° `pos`|
|`.seekg(offset, dir)`|ç›¸å°æ–¼æŸå€‹æ–¹å‘ç§»å‹•è®€å–ä½ç½®ï¼ˆä¾‹å¦‚ `std::ios::beg`ï¼‰|
|`.seekp(offset, dir)`|ç›¸å°æ–¼æŸå€‹æ–¹å‘ç§»å‹•å¯«å…¥ä½ç½®|

ğŸ“Œ ç¯„ä¾‹ï¼ˆç§»å‹•åˆ°æª”æ¡ˆé–‹é ­ï¼‰ï¼š

```cpp
inFile.seekg(0, std::ios::beg);  // å¾æª”æ¡ˆé–‹é ­é‡æ–°è®€å–
```

---

## ğŸšª é–‹å•Ÿèˆ‡é—œé–‰æª”æ¡ˆ

|æ–¹æ³•|èªªæ˜|
|---|---|
|`.open(filename)`|é–‹å•Ÿæª”æ¡ˆï¼ˆå»ºæ§‹ä¹‹å¾Œä¹Ÿèƒ½é–‹å•Ÿï¼‰|
|`.close()`|é—œé–‰æª”æ¡ˆ|

---

## ğŸ“„ æª”æ¡ˆé–‹å•Ÿæ¨¡å¼ï¼ˆ`open()` çš„ç¬¬äºŒåƒæ•¸ï¼‰

ç•¶ä½ ä½¿ç”¨ `.open()` æ™‚å¯ä»¥æŒ‡å®šé–‹å•Ÿæ¨¡å¼ï¼Œé€™äº›å¸¸æ•¸å®šç¾©æ–¼ `std::ios` ä¸­ï¼š

|æ¨¡å¼|èªªæ˜|
|---|---|
|`std::ios::in`|è®€å–æ¨¡å¼ï¼ˆé è¨­ `ifstream`ï¼‰|
|`std::ios::out`|å¯«å…¥æ¨¡å¼ï¼ˆé è¨­ `ofstream`ï¼‰|
|`std::ios::app`|é™„åŠ æ¨¡å¼ï¼ˆappendï¼‰|
|`std::ios::ate`|ç§»å‹•åˆ°æª”æ¡ˆå°¾å¾Œå†æ“ä½œ|
|`std::ios::trunc`|é–‹å•Ÿæ™‚æ¸…ç©ºåŸå§‹æª”æ¡ˆ|
|`std::ios::binary`|ä»¥äºŒé€²ä½æ ¼å¼é–‹å•Ÿ|

ğŸ“Œ ç¯„ä¾‹ï¼ˆä»¥è®€å¯«æ¨¡å¼é–‹å•Ÿï¼‰ï¼š

```cpp
std::fstream file("data.txt", std::ios::in | std::ios::out);
```

---

## ğŸ§  å°æé†’ï¼š`.getline()` vs `std::getline()`

- `.getline(char* buffer, size_t)` æ˜¯ `istream` çš„æˆå“¡å‡½å¼ï¼Œ**åªèƒ½è®€ C-string**
    
- `std::getline(istream, std::string)` æ˜¯æ¨™æº–å‡½å¼ï¼Œ**å¯ç›´æ¥ç”¨åœ¨ `std::string` ä¸Š**
    

---

### ğŸ“Œ ç¸½çµåœ–è¡¨

|åŠŸèƒ½|æ–¹æ³• / å±¬æ€§|
|---|---|
|ç‹€æ…‹æª¢æŸ¥|`is_open()`, `eof()`, `fail()`|
|éŒ¯èª¤æ¸…é™¤|`clear()`|
|ä½ç½®æ§åˆ¶|`seekg()`, `seekp()`, `tellg()`, `tellp()`|
|é–‹é—œæª”æ¡ˆ|`open()`, `close()`|

---

# ğŸ§µ Using String Streams â€“ `stringstream`, `istringstream`, `ostringstream`

C++ æä¾›äº†å­—ä¸²ä¸²æµé¡åˆ¥ï¼Œå¯ä»¥å°‡ `std::string` ç•¶ä½œè¼¸å…¥æˆ–è¼¸å‡ºçš„ä¾†æº/ç›®æ¨™ï¼Œå°±åƒæ“ä½œæª”æ¡ˆæˆ– `cin`/`cout` ä¸€æ¨£ï¼Œé€™å°æ–¼å­—ä¸²çš„æ ¼å¼åŒ–è™•ç†ç‰¹åˆ¥æœ‰ç”¨ã€‚

é€™äº›é¡åˆ¥éƒ½ä¾†è‡ª `<sstream>` æ¨™é ­ï¼š

|é¡å‹|èªªæ˜|
|---|---|
|`std::istringstream`|ç”¨ä¾†ã€Œå¾ string è®€å–è³‡æ–™ã€ï¼ˆåƒ `cin`ï¼‰|
|`std::ostringstream`|ç”¨ä¾†ã€Œå¯«è³‡æ–™é€² stringã€ï¼ˆåƒ `cout`ï¼‰|
|`std::stringstream`|åŒæ™‚å¯è®€å¯å¯«|

---

## ğŸ”¹ æ­¥é©Ÿ 1ï¼š`#include <sstream>`

```cpp
#include <sstream>
```

---

## ğŸ”¹ æ­¥é©Ÿ 2ï¼šå®£å‘Š `stringstream`, `istringstream`, `ostringstream` ç‰©ä»¶

```cpp
std::istringstream inputStream;
std::ostringstream outputStream;
std::stringstream ioStream;
```

---

## ğŸ”¹ æ­¥é©Ÿ 3ï¼šé€£æ¥ `std::string`ï¼ˆåˆå§‹åŒ–æˆ–å–å¾—å…§å®¹ï¼‰

- ä½ å¯ä»¥åœ¨å»ºæ§‹æ™‚æˆ– `.str()` æ–¹æ³•ä¸­è¨­å®šæˆ–å–å¾—åº•å±¤å­—ä¸²ï¼š
    

```cpp
std::string data = "123 456";
std::istringstream iss(data);         // è®€å–æ¨¡å¼
std::ostringstream oss;               // å¯«å…¥æ¨¡å¼
oss << "Hello, " << 2025;             // å°‡è³‡æ–™å¯«å…¥ stringstream
std::string result = oss.str();       // å–å¾—å¯«å…¥å¾Œçš„å­—ä¸²
```

---

## ğŸ”¹ æ­¥é©Ÿ 4ï¼šä½¿ç”¨æ ¼å¼åŒ– I/O æ“ä½œå­—ä¸²æµ

### âœ… `istringstream`ï¼ˆè®€å–å­—ä¸²ï¼‰

```cpp
std::string line = "42 3.14 hello";
std::istringstream iss(line);
int x;
double pi;
std::string word;
iss >> x >> pi >> word;  // å°±åƒå¾ cin è®€å…¥ä¸€æ¨£
```

### âœ… `ostringstream`ï¼ˆå¯«å…¥å­—ä¸²ï¼‰

```cpp
std::ostringstream oss;
oss << "Result: " << 99 << ", OK\n";
std::string output = oss.str();  // è½‰æ›æˆ std::string ä½¿ç”¨
```

### âœ… `stringstream`ï¼ˆå¯è®€å¯å¯«ï¼‰

```cpp
std::stringstream ss;
ss << "C++ 2025";
std::string lang;
int year;
ss >> lang >> year;  // å¯ä»¥è®€å›å‰›å‰›å¯«é€²å»çš„è³‡æ–™
```

---

## ğŸ“Œ stringstream çš„æ‡‰ç”¨å ´æ™¯

|æ‡‰ç”¨|èªªæ˜|
|---|---|
|å­—ä¸²åˆ†å‰²|ç”¨ç©ºæ ¼è‡ªå‹•æ‹†è§£å­—ä¸²æˆæ•¸å€¼æˆ–è©å½™|
|å­—ä¸²è½‰æ•¸å­—|æ¯” `std::stoi()` æ›´ç©©å®šå’Œé€šç”¨|
|æ ¼å¼åŒ–è¼¸å‡ºæˆå­—ä¸²|å¯æ§åˆ¶ç²¾åº¦ã€æ¬„å¯¬å¾Œå„²å­˜ç‚º `std::string`|
|å–®è¡Œè¼¸å…¥è§£æ|ç”¨åœ¨ `std::getline()` å¾Œè™•ç†å…§å®¹|

---

## ğŸ“Œ ç¯„ä¾‹ï¼šæ‹†è§£ä½¿ç”¨è€…è¼¸å…¥çš„æ•¸å­—å­—ä¸²

```cpp
#include <iostream>
#include <sstream>
#include <string>

int main() {
    std::string input = "100 3.14 OpenAI";
    std::istringstream iss(input);

    int i;
    double d;
    std::string word;
    iss >> i >> d >> word;

    std::cout << "Int: " << i << "\n";
    std::cout << "Double: " << d << "\n";
    std::cout << "Word: " << word << "\n";

    return 0;
}
```

---

