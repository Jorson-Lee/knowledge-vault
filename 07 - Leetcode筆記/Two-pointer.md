# [åˆ¤æ–·é€£çµä¸²åˆ—æ˜¯å¦åŒ…å«ç’°](https://labuladong.online/algo/essential-technique/linked-list-skills-summary-2/#%E5%88%A4%E6%96%AD%E9%93%BE%E8%A1%A8%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E7%8E%AF)

åˆ¤æ–·é€£çµä¸²åˆ—æ˜¯å¦åŒ…å«ç’°å±¬æ–¼ç¶“å…¸å•é¡Œäº†ï¼Œè§£æ±ºæ–¹æ¡ˆä¹Ÿæ˜¯ç”¨å¿«æ…¢æŒ‡æ¨™ï¼š

æ¯ç•¶æ…¢æŒ‡æ¨™Â `slow`Â å‰é€²ä¸€æ­¥ï¼Œå¿«æŒ‡æ¨™Â `fast`Â å°±å‰é€²å…©æ­¥ã€‚

å¦‚æœÂ `fast`Â æœ€çµ‚èƒ½æ­£å¸¸èµ°åˆ°é€£çµä¸²åˆ—æœ«å°¾ï¼Œèªªæ˜é€£çµä¸²åˆ—ä¸­æ²’æœ‰ç’°ï¼›å¦‚æœÂ `fast`Â èµ°è‘—èµ°è‘—ç«Ÿç„¶å’ŒÂ `slow`Â ç›¸é‡äº†ï¼Œé‚£è‚¯å®šæ˜¯Â `fast`Â åœ¨é€£çµä¸²åˆ—ä¸­è½‰åœˆäº†ï¼Œèªªæ˜é€£çµä¸²åˆ—ä¸­å«æœ‰ç’°ã€‚
```cpp
class Solution {
public:
    bool hasCycle(ListNode *head) {
        // å¿«æ…¢æŒ‡æ¨™åˆå§‹åŒ–æŒ‡å‘ head
        ListNode *slow = head, *fast = head;
        // å¿«æŒ‡æ¨™èµ°åˆ°æœ«å°¾æ™‚åœæ­¢
        while (fast != nullptr && fast->next != nullptr) {
            // æ…¢æŒ‡æ¨™èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡æ¨™èµ°å…©æ­¥
            slow = slow->next;
            fast = fast->next->next;
            // å¿«æ…¢æŒ‡æ¨™ç›¸é‡ï¼Œèªªæ˜å«æœ‰ç’°
            if (slow == fast) {
                return true;
            }
        }
        // ä¸åŒ…å«ç’°
        return false;
    }
};
```
ç•¶ç„¶ï¼Œé€™å€‹å•é¡Œé‚„æœ‰é€²éšç‰ˆï¼Œä¹Ÿæ˜¯åŠ›æ‰£ç¬¬ 142 é¡Œã€Œ[ç’°å½¢é€£çµä¸²åˆ— II](https://leetcode.cn/problems/linked-list-cycle-ii/)ã€ï¼šå¦‚æœé€£çµä¸²åˆ—ä¸­å«æœ‰ç’°ï¼Œå¦‚ä½•è¨ˆç®—é€™å€‹ç’°çš„èµ·é»ï¼Ÿ

èˆ‰å€‹ä¾‹å­ï¼Œç’°çš„èµ·é»æ˜¯æŒ‡ä¸‹é¢é€™å¹…åœ–ä¸­çš„ç¯€é» 2ï¼š
![Pasted image 20250825121629](attachments/PastedImage-20250826_152534.png)

å¯ä»¥çœ‹åˆ°ï¼Œç•¶å¿«æ…¢æŒ‡æ¨™ç›¸é‡æ™‚ï¼Œè®“å…¶ä¸­ä»»ä¸€å€‹æŒ‡æ¨™æŒ‡å‘é ­ç¯€é»ï¼Œç„¶å¾Œè®“å®ƒå€†ä»¥ç›¸åŒé€Ÿåº¦å‰é€²ï¼Œå†æ¬¡ç›¸é‡æ™‚æ‰€åœ¨çš„ç¯€é»ä½ç½®å°±æ˜¯ç’°é–‹å§‹çš„ä½ç½®ã€‚

ç‚ºä»€éº¼è¦é€™æ¨£å‘¢ï¼Ÿé€™è£¡ç°¡å–®èªªä¸€ä¸‹å…¶ä¸­çš„åŸç†ã€‚

æˆ‘å€‘å‡è¨­å¿«æ…¢æŒ‡æ¨™ç›¸é‡æ™‚ï¼Œæ…¢æŒ‡æ¨™Â `slow`Â èµ°äº†Â `k`Â æ­¥ï¼Œé‚£éº¼å¿«æŒ‡æ¨™Â `fast`Â ä¸€å®šèµ°äº†Â `2k`Â æ­¥ï¼š
![400](attachments/PastedImage-20250826_152534-1.png)

`fast`Â ä¸€å®šæ¯”Â `slow`Â å¤šèµ°äº†Â `k`Â æ­¥ï¼Œé€™å¤šèµ°çš„Â `k`Â æ­¥å…¶å¯¦å°±æ˜¯Â `fast`Â æŒ‡æ¨™åœ¨ç’°è£¡è½‰åœˆåœˆï¼Œæ‰€ä»¥Â `k`Â çš„å€¼å°±æ˜¯ç’°é•·åº¦çš„ã€Œæ•´æ•¸å€ã€ã€‚

å‡è¨­ç›¸é‡é»è·ç’°çš„èµ·é»çš„è·é›¢ç‚ºÂ `m`ï¼Œé‚£éº¼çµåˆä¸Šåœ–çš„Â `slow`Â æŒ‡æ¨™ï¼Œç’°çš„èµ·é»è·é ­çµé»Â `head`Â çš„è·é›¢ç‚ºÂ `k - m`ï¼Œä¹Ÿå°±æ˜¯èªªå¦‚æœå¾Â `head`Â å‰é€²Â `k - m`Â æ­¥å°±èƒ½åˆ°é”ç’°èµ·é»ã€‚

å·§çš„æ˜¯ï¼Œå¦‚æœå¾ç›¸é‡é»ç¹¼çºŒå‰é€²Â `k - m`Â æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°é”ç’°èµ·é»ã€‚å› ç‚ºçµåˆä¸Šåœ–çš„Â `fast`Â æŒ‡æ¨™ï¼Œå¾ç›¸é‡é»é–‹å§‹èµ°kæ­¥å¯ä»¥è½‰å›åˆ°ç›¸é‡é»ï¼Œé‚£èµ°Â `k - m`Â æ­¥è‚¯å®šå°±èµ°åˆ°ç’°èµ·é»äº†ï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250825_121236.png)

æ‰€ä»¥ï¼Œåªè¦æˆ‘å€‘æŠŠå¿«æ…¢æŒ‡æ¨™ä¸­çš„ä»»ä¸€å€‹é‡æ–°æŒ‡å‘Â `head`ï¼Œç„¶å¾Œå…©å€‹æŒ‡æ¨™åŒé€Ÿå‰é€²ï¼Œ`k - m`Â æ­¥å¾Œä¸€å®šæœƒç›¸é‡ï¼Œç›¸é‡ä¹‹è™•å°±æ˜¯ç’°çš„èµ·é»äº†ã€‚

```cpp
class Solution {
public:
    ListNode *detectCycle(ListNode *head) {
        ListNode *fast, *slow;
        fast = slow = head;
        while (fast != nullptr && fast->next != nullptr) {
            fast = fast->next->next;
            slow = slow->next;
            if (fast == slow) break;
        }
        // ä¸Šé¢çš„ç¨‹å¼ç¢¼é¡ä¼¼ hasCycle å‡½å¼
        if (fast == nullptr || fast->next == nullptr) {
            // fast é‡åˆ°ç©ºæŒ‡æ¨™èªªæ˜æ²’æœ‰ç’°
            return nullptr;
        }

        // é‡æ–°æŒ‡å‘é ­çµé»
        slow = head;
        // å¿«æ…¢æŒ‡æ¨™åŒæ­¥å‰é€²(k-mæ­¥)ï¼Œç›¸äº¤é»å°±æ˜¯ç’°èµ·é»
        while (slow != fast) {
            fast = fast->next;
            slow = slow->next;
        }
        return slow;
    }
};
```
---
# [å…©å€‹é€£çµä¸²åˆ—æ˜¯å¦ç›¸äº¤](https://labuladong.online/algo/essential-technique/linked-list-skills-summary-2/#%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8%E6%98%AF%E5%90%A6%E7%9B%B8%E4%BA%A4)
çµ¦ä½ è¼¸å…¥å…©å€‹é€£çµä¸²åˆ—çš„é ­çµé»Â `headA`Â å’ŒÂ `headB`ï¼Œé€™å…©å€‹é€£çµä¸²åˆ—å¯èƒ½å­˜åœ¨ç›¸äº¤ã€‚

å¦‚æœç›¸äº¤ï¼Œä½ çš„æ¼”æ¼”æ¼”ç®—æ³•æ‡‰è©²è¿”å›ç›¸äº¤çš„é‚£å€‹ç¯€é»ï¼›å¦‚æœæ²’ç›¸äº¤ï¼Œå‰‡è¿”å› nullã€‚

æ¯”å¦‚é¡Œç›®çµ¦æˆ‘å€‘èˆ‰çš„ä¾‹å­ï¼Œå¦‚æœè¼¸å…¥çš„å…©å€‹é€£çµä¸²åˆ—å¦‚ä¸‹åœ–ï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250825_121755.png)
é‚£éº¼æˆ‘å€‘çš„ç®—
é‚£éº¼æˆ‘å€‘çš„æ¼”æ¼”æ¼”ç®—æ³•æ‡‰è©²è¿”å›Â `c1`Â é€™å€‹ç¯€é»ã€‚

é€™å€‹é¡Œç›´æ¥çš„æƒ³æ³•å¯èƒ½æ˜¯ç”¨Â `HashSet`Â è¨˜éŒ„ä¸€å€‹é€£çµä¸²åˆ—çš„æ‰€æœ‰ç¯€é»ï¼Œç„¶å¾Œå’Œå¦ä¸€æ¢é€£çµä¸²åˆ—å°æ¯”ï¼Œä½†é€™å°±éœ€è¦é¡å¤–çš„ç©ºé–“ã€‚

å¦‚æœä¸ç”¨é¡å¤–çš„ç©ºé–“ï¼Œåªä½¿ç”¨å…©å€‹æŒ‡æ¨™ï¼Œä½ å¦‚ä½•åšå‘¢ï¼Ÿ
é›£é»åœ¨æ–¼ï¼Œç”±æ–¼å…©æ¢é€£çµä¸²åˆ—çš„é•·åº¦å¯èƒ½ä¸åŒï¼Œå…©æ¢é€£çµä¸²åˆ—ä¹‹é–“çš„ç¯€é»ç„¡æ³•å°æ‡‰ï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250825_122205.png)

å¦‚æœç”¨å…©å€‹æŒ‡æ¨™Â `p1`Â å’ŒÂ `p2`Â åˆ†åˆ¥åœ¨å…©æ¢é€£çµä¸²åˆ—ä¸Šå‰é€²ï¼Œä¸¦ä¸èƒ½**åŒæ™‚**èµ°åˆ°å…¬å…±ç¯€é»ï¼Œä¹Ÿå°±ç„¡æ³•å¾—åˆ°ç›¸äº¤ç¯€é»Â `c1`ã€‚

**è§£æ±ºé€™å€‹å•é¡Œçš„é—œéµæ˜¯ï¼Œé€éæŸäº›æ–¹å¼ï¼Œè®“Â `p1`Â å’ŒÂ `p2`Â èƒ½å¤ åŒæ™‚åˆ°é”ç›¸äº¤ç¯€é»Â `c1`**ã€‚

æ‰€ä»¥ï¼Œæˆ‘å€‘å¯ä»¥è®“Â `p1`Â éæ­·å®Œé€£çµä¸²åˆ—Â `A`Â ä¹‹å¾Œé–‹å§‹éæ­·é€£çµä¸²åˆ—Â `B`ï¼Œè®“Â `p2`Â éæ­·å®Œé€£çµä¸²åˆ—Â `B`Â ä¹‹å¾Œé–‹å§‹éæ­·é€£çµä¸²åˆ—Â `A`ï¼Œé€™æ¨£ç›¸ç•¶æ–¼ã€Œé‚è¼¯ä¸Šã€å…©æ¢é€£çµä¸²åˆ—æ¥åœ¨äº†ä¸€èµ·ã€‚

å¦‚æœé€™æ¨£é€²è¡Œæ‹¼æ¥ï¼Œå°±å¯ä»¥è®“Â `p1`Â å’ŒÂ `p2`Â åŒæ™‚é€²å…¥å…¬å…±éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯åŒæ™‚åˆ°é”ç›¸äº¤ç¯€é»Â `c1`ï¼š

![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250825_122324.png)

é‚£ä½ å¯èƒ½æœƒå•ï¼Œå¦‚æœèªªå…©å€‹é€£çµä¸²åˆ—æ²’æœ‰ç›¸äº¤é»ï¼Œæ˜¯å¦èƒ½å¤ æ­£ç¢ºçš„è¿”å› null å‘¢ï¼Ÿ

é€™å€‹é‚è¼¯å¯ä»¥è¦†è“‹é€™ç¨®æƒ…æ³çš„ï¼Œç›¸ç•¶æ–¼ c1 ç¯€é»æ˜¯ null ç©ºæŒ‡æ¨™å˜›ï¼Œå¯ä»¥æ­£ç¢ºè¿”å› nullã€‚
```cpp
class Solution {
public:
    ListNode* getIntersectionNode(ListNode* headA, ListNode* headB) {
        // p1 æŒ‡å‘ A é€£çµä¸²åˆ—é ­çµé»ï¼Œp2 æŒ‡å‘ B é€£çµä¸²åˆ—é ­çµé»
        ListNode* p1 = headA;
        ListNode* p2 = headB;
        while (p1 != p2) {
            // p1 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° A é€£çµä¸²åˆ—æœ«å°¾ï¼Œè½‰åˆ° B é€£çµä¸²åˆ—
            p1 = (p1 == nullptr) ? headB : p1->next;
            // p2 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° B é€£çµä¸²åˆ—æœ«å°¾ï¼Œè½‰åˆ° A é€£çµä¸²åˆ—
            p2 = (p2 == nullptr) ? headA : p2->next;
        }
        return p1;
    }
};
```
## é•·åº¦å·®è·æ³•

> ç•¶æˆ‘å€‘è®“è¼ƒé•·çš„éˆçµä¸²åˆ—å…ˆã€Œè·³éã€å¹¾å€‹ç¯€é»ï¼Œæœƒä¸æœƒéŒ¯éäº¤æœƒé»ï¼Ÿ
### ğŸ“˜ ç‚ºä»€éº¼ä¸æœƒéŒ¯éäº¤æœƒé»

### ğŸ”¹ å‰ææ¢ä»¶

è¨­ï¼š

- `lenA = lenA_pre + lenC`
    
- `lenB = lenB_pre + lenC`  
    å…¶ä¸­ï¼š
    
- `lenA_pre` = A åœ¨äº¤é»ä¹‹å‰çš„ç¨ç«‹é•·åº¦
    
- `lenB_pre` = B åœ¨äº¤é»ä¹‹å‰çš„ç¨ç«‹é•·åº¦
    
- `lenC` = äº¤é»ä¹‹å¾Œå…±äº«çš„é•·åº¦


### ğŸ”¹ å…·é«”æµç¨‹

1. è¨ˆç®— `lenA`, `lenB`ã€‚
    
2. è¨­ `diff = |lenA - lenB|`ã€‚
    
3. è®“ **è¼ƒé•·çš„éˆçµä¸²åˆ—** å…ˆèµ° `diff` æ­¥ã€‚
    
    - å¦‚æœ `lenA > lenB` â†’ A å…ˆèµ° `lenA - lenB` æ­¥ã€‚
        
    - å¦‚æœ `lenB > lenA` â†’ B å…ˆèµ° `lenB - lenA` æ­¥ã€‚
        
4. ä¹‹å¾Œå…©å€‹æŒ‡æ¨™åŒæ™‚å¾€å‰èµ°ï¼Œç›´åˆ°é‡åˆ°ç›¸åŒç¯€é»ï¼ˆæˆ– `nullptr`ï¼‰ã€‚
    
### ğŸ”¹ ç‚ºä»€éº¼ä¸æœƒè·³éäº¤æœƒé»

é—œéµè§€å¯Ÿï¼š

- äº¤æœƒé»ä¸€å®šå‡ºç¾åœ¨ **å°¾ç«¯å…±äº«å€æ®µ (`lenC`)**ã€‚
    
- æˆ‘å€‘è®“è¼ƒé•·çš„éˆçµä¸²åˆ—å…ˆã€Œèµ°å·®è· `diff`ã€ï¼Œå°±æ˜¯ç‚ºäº†è®“ **å…©å€‹æŒ‡æ¨™å‰©ä¸‹çš„æ­¥æ•¸ä¸€æ¨£å¤š**ã€‚
    

æ•¸å­¸ä¸Šï¼š

å‡è¨­ `lenA > lenB`ï¼š

- A èµ° `lenA - lenB` æ­¥å¾Œï¼Œå‰©ä¸‹çš„é•·åº¦ = `(lenB_pre + lenC)`ã€‚
    
- B é‚„æ²’èµ°ï¼Œå‰©ä¸‹çš„é•·åº¦ä¹Ÿ = `(lenB_pre + lenC)`ã€‚
    

ğŸ‘‰ æ‰€ä»¥æ­¤æ™‚ A å’Œ B **è·é›¢äº¤æœƒé»çš„è·é›¢ç›¸åŒ**ã€‚  
ä»–å€‘ä¹‹å¾ŒåŒæ­¥å‰é€²ï¼Œä¸å¯èƒ½éŒ¯éäº¤æœƒé»ï¼Œåªå¯èƒ½åœ¨äº¤æœƒé»ç›¸é‡ï¼Œæˆ–æœ€å¾Œä¸€èµ·åˆ° `nullptr`ã€‚

### ğŸ”¹ ASCII è¦–è¦ºåŒ–

ç¯„ä¾‹ï¼š

```
A: a1 â†’ a2 â†’ a3
                  â†˜
                   c1 â†’ c2 â†’ c3
                  â†—
B: b1
```

é•·åº¦ï¼š

- `lenA = 5` (a1,a2,a3,c1,c2,c3)
    
- `lenB = 4` (b1,c1,c2,c3)
    
- `diff = 1`
    

æ­¥é©Ÿï¼š

1. è®“ A å…ˆèµ° 1 æ­¥ï¼ˆåˆ° a2ï¼‰ã€‚
    
2. ç¾åœ¨ A èˆ‡ B å‰©ä¸‹çš„é•·åº¦éƒ½ = 4ã€‚
    
3. åŒæ­¥èµ°ï¼š
    
    - A: a2 â†’ a3 â†’ c1 â†’ c2 â†’ c3
        
    - B: b1 â†’ c1 â†’ c2 â†’ c3
        
4. åœ¨ `c1` ç›¸é‡ âœ…
    

ğŸ‘‰ äº¤æœƒé»ä¸€å®šä¸æœƒè¢«è·³éã€‚

### âœ… çµè«–

ä¸æœƒéŒ¯éäº¤æœƒé»ï¼ŒåŸå› æ˜¯ **èª¿æ•´æ­¥æ•¸å¾Œï¼Œå…©å€‹æŒ‡æ¨™è·é›¢äº¤æœƒé»çš„è·é›¢ç›¸ç­‰**ï¼Œå› æ­¤åŒæ­¥ç§»å‹•æ™‚è¦å˜›åŒæ™‚åˆ°é”äº¤æœƒé»ï¼Œè¦å˜›åŒæ™‚åˆ° `nullptr`ã€‚

---
# [å–®é€£çµä¸²åˆ—çš„å€’æ•¸ç¬¬Â `k`Â å€‹ç¯€é»](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#%E5%8D%95%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%AC-k-%E4%B8%AA%E8%8A%82%E7%82%B9)
å¾å‰å¾€å¾Œå°‹æ‰¾å–®é€£çµä¸²åˆ—çš„ç¬¬ k å€‹ç¯€é»å¾ˆç°¡å–®ï¼Œä¸€å€‹ for è¿´åœˆéæ­·éå»å°±æ‰¾åˆ°äº†ï¼Œä½†æ˜¯å¦‚ä½•å°‹æ‰¾å¾å¾Œå¾€å‰æ•¸çš„ç¬¬ k å€‹ç¯€é»å‘¢ï¼Ÿ

é‚£ä½ å¯èƒ½èªªï¼Œå‡è¨­é€£çµä¸²åˆ—æœ‰ n å€‹ç¯€é»ï¼Œå€’æ•¸ç¬¬ k å€‹ç¯€é»å°±æ˜¯æ­£æ•¸ç¬¬ n - k + 1 å€‹ç¯€é»ï¼Œä¸ä¹Ÿæ˜¯ä¸€å€‹ for è¿´åœˆçš„äº‹å…’å—ï¼Ÿ

æ˜¯çš„ï¼Œä½†æ˜¯æ¼”æ¼”ç®—æ³•é¡Œä¸€èˆ¬åªçµ¦ä½ ä¸€å€‹ ListNode é ­çµé»ä»£è¡¨ä¸€æ¢å–®é€£çµä¸²åˆ—ï¼Œä½ ä¸èƒ½ç›´æ¥å¾—å‡ºé€™æ¢é€£çµä¸²åˆ—çš„é•·åº¦ nï¼Œè€Œéœ€è¦å…ˆéæ­·ä¸€éé€£çµä¸²åˆ—ç®—å‡º n çš„å€¼ï¼Œç„¶å¾Œå†éæ­·é€£çµä¸²åˆ—è¨ˆç®—ç¬¬ n - k + 1 å€‹ç¯€é»ã€‚

ä¹Ÿå°±æ˜¯èªªï¼Œé€™å€‹è§£æ³•éœ€è¦éæ­·å…©æ¬¡é€£çµä¸²åˆ—æ‰èƒ½å¾—åˆ°å‡ºå€’æ•¸ç¬¬ k å€‹ç¯€é»ã€‚

é‚£éº¼ï¼Œæˆ‘å€‘èƒ½ä¸èƒ½åªéæ­·ä¸€æ¬¡é€£çµä¸²åˆ—ï¼Œå°±ç®—å‡ºå€’æ•¸ç¬¬ k å€‹ç¯€é»ï¼Ÿå¯ä»¥åšåˆ°çš„ï¼Œå¦‚æœæ˜¯é¢è©¦å•åˆ°é€™é“é¡Œï¼Œé¢è©¦å®˜è‚¯å®šä¹Ÿæ˜¯å¸Œæœ›ä½ çµ¦å‡ºåªéœ€éæ­·ä¸€æ¬¡é€£çµä¸²åˆ—çš„è§£æ³•ã€‚

é€™å€‹è§£æ³•å°±æ¯”è¼ƒå·§å¦™äº†ï¼Œå‡è¨­ k = 2ï¼Œæ€è·¯å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œæˆ‘å€‘å…ˆè®“ä¸€å€‹æŒ‡æ¨™ p1 æŒ‡å‘é€£çµä¸²åˆ—çš„é ­ç¯€é» headï¼Œç„¶å¾Œèµ° k æ­¥ï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250826113942.png)
ç¾åœ¨çš„Â `p1`ï¼Œåªè¦å†èµ°Â `n - k`Â æ­¥ï¼Œå°±èƒ½èµ°åˆ°é€£çµä¸²åˆ—æœ«å°¾çš„ç©ºæŒ‡æ¨™äº†å°å§ï¼Ÿ

è¶é€™å€‹æ™‚å€™ï¼Œå†ç”¨ä¸€å€‹æŒ‡æ¨™Â `p2`Â æŒ‡å‘é€£çµä¸²åˆ—é ­ç¯€é»Â `head`ï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250826114011.png)
æ¥ä¸‹ä¾†å°±å¾ˆé¡¯ç„¶äº†ï¼Œè®“Â `p1`Â å’ŒÂ `p2`Â åŒæ™‚å‘å‰èµ°ï¼Œ`p1`Â èµ°åˆ°é€£çµä¸²åˆ—æœ«å°¾çš„ç©ºæŒ‡æ¨™æ™‚å‰é€²äº†Â `n - k`Â æ­¥ï¼Œ`p2`Â ä¹Ÿå¾Â `head`Â é–‹å§‹å‰é€²äº†Â `n - k`Â æ­¥ï¼Œåœç•™åœ¨ç¬¬Â `n - k + 1`Â å€‹ç¯€é»ä¸Šï¼Œå³æ°å¥½åœé€£çµä¸²åˆ—çš„å€’æ•¸ç¬¬Â `k`Â å€‹ç¯€é»ä¸Šï¼š
![400](07%20-%20Leetcodeç­†è¨˜/attachments/PastedImage20250826114025.png)
é€™æ¨£ï¼Œåªéæ­·äº†ä¸€æ¬¡é€£çµä¸²åˆ—ï¼Œå°±ç²å¾—äº†å€’æ•¸ç¬¬Â `k`Â å€‹ç¯€é»Â `p2`ã€‚
```cpp
//
// Created by jorsonlee on 2025/8/26.
//
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    ListNode* removeNthFromEnd(ListNode* head, int n) {
        ListNode* dummy = new ListNode(0);
        dummy->next = head;
        ListNode* fast = dummy;
        ListNode* slow = dummy;
        //Suppose there are m nodes, we want to remove last n-th node, in another word,we want to remove (m-n+1)-th node.
        //Inorder to remove (m-n+1)-th node, we need to move to (m-n)-th node
		//However, in this sort of problem we tend to use a dummy node, such that dummy->next = head, and we start at dummy node
		//So eventually, if we want to solve this problem:
		//remove last n-th node -> remove (m-n+1)-th node -> find (m-n)-th node -> first pointer move n+1 steps to find (n+1)-th node (since we start at dummy node)
		//at the same time,we add another pointer to dummy,then they move until first pointer is nullptr(first pointer moved m-n steps)
		//so does second pointer (second pointer locate at (m-n)-th node)
		for(int i = 0;i<n+1;i++){
            fast = fast->next;
        }
        
        while(fast!=nullptr){
            fast=fast->next;
            slow=slow->next;
        }
        
        ListNode *abort = slow->next;
        slow->next = slow->next->next;

        return dummy->next;

    }
};
```

# ğŸ“ Dummy Node åœ¨å–®å‘éˆè¡¨ç¯€é»é¡Œç›®çš„å¥½è™•

## 1ï¸âƒ£ çµ±ä¸€åˆªé™¤é‚è¼¯

- ç„¡è«–åˆªé™¤ **é ­ç¯€é»ã€å°¾ç¯€é»æˆ–ä¸­é–“ç¯€é»**ï¼Œéƒ½å¯ä»¥ä½¿ç”¨çµ±ä¸€æ“ä½œï¼š
    

```cpp
slow->next = slow->next->next;
```

- ä¸éœ€è¦ç‰¹åˆ¤ head æˆ–å°¾ç«¯ç¯€é»
    
- é¿å…åœ¨ç¨‹å¼ä¸­å¢åŠ é¡å¤–çš„ if åˆ¤æ–·
    
## 2ï¸âƒ£ ä¿è­· head ç¯€é»

- dummy ç¯€é»åœ¨ head å‰é¢ä½œç‚ºã€Œå‰é©…ç¯€é»ã€
    
- å¦‚æœåˆªé™¤çš„æ˜¯ headï¼š
    

```cpp
dummy -> head -> ... -> nullptr
```

- åˆªé™¤å¾Œåªéœ€è¿”å› `dummy->next`ï¼Œä¸æœƒä¸Ÿå¤±éˆè¡¨é ­
    
## 3ï¸âƒ£ ä¿è­‰ two-pointer å®‰å…¨

- åœ¨ two-pointer æŠ€å·§ä¸­ï¼š
    
    - slow å’Œ fast éƒ½å¯ä»¥åˆå§‹åŒ–åœ¨ dummy
        
    - fast å…ˆèµ° n+1 æ­¥ â†’ slow æœ€çµ‚æ­£ç¢ºåœåœ¨è¦åˆªé™¤ç¯€é»çš„å‰ä¸€å€‹ç¯€é»
        
- ç„¡éœ€æ“”å¿ƒ slow æˆ– fast è¶Šé head æˆ– nullptrï¼Œé¿å… null pointer runtime error
    

## 4ï¸âƒ£ é©ç”¨æ–¼å„ç¨®é‚Šç•Œæƒ…æ³

| é‚Šç•Œæƒ…æ³    | ä½¿ç”¨ dummy çš„æ•ˆæœ                                        |
| ------- | --------------------------------------------------- |
| åªæœ‰ä¸€å€‹ç¯€é»  | slow åœåœ¨ dummyï¼Œåˆªé™¤ç¯€é»å¾Œ dummy->next = nullptrï¼Œè‡ªå‹•è¿”å›ç©ºéˆè¡¨   |
| åˆªé™¤ head | slow åœåœ¨ dummyï¼Œåˆªé™¤å¾Œ dummy->next = head->next â†’ æ–° head |
| åˆªé™¤å°¾ç¯€é»   | slow åœåœ¨å€’æ•¸ç¬¬äºŒå€‹ç¯€é»ï¼Œåˆªé™¤æœ€å¾Œç¯€é»å¾Œ slow->next = nullptr         |
| åˆªé™¤ä¸­é–“ç¯€é»  | slow åœåœ¨å‰é©…ç¯€é»ï¼Œåˆªé™¤æ“ä½œä¸€è‡´                                  |

## 5ï¸âƒ£ ç¸½çµ

**ä½¿ç”¨ dummy node çš„æ ¸å¿ƒåƒ¹å€¼**ï¼š

1. çµ±ä¸€é‚è¼¯ï¼Œç°¡åŒ–ç¨‹å¼
    
2. ç„¡éœ€ç‰¹åˆ¤ head ç¯€é»
    
3. ä¿è­· slow/fast æŒ‡é‡å®‰å…¨ï¼Œé¿å… null pointer
    
4. è‡ªç„¶è™•ç†æ‰€æœ‰é‚Šç•Œæƒ…æ³ï¼ˆå”¯ä¸€ç¯€é»ã€é ­ã€å°¾ã€ä¸­é–“ï¼‰
    

> ğŸ’¡ çµè«–ï¼šåœ¨å–®å‘éˆè¡¨åˆªé™¤æ“ä½œä¸­ï¼Œdummy node å¹¾ä¹æ˜¯æ¨™æº–åšæ³•ï¼Œç‰¹åˆ¥æ˜¯åœ¨ä½¿ç”¨ two-pointer æŠ€å·§æ™‚ï¼Œèƒ½å¤§å¹…é™ä½å‡ºéŒ¯ç‡ã€‚

---

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å†ç•«ä¸€å€‹ **ASCII åœ–**ï¼Œå±•ç¤º dummy node + slow/fast åœ¨å„ç¨®é‚Šç•Œæƒ…æ³ä¸‹çš„æ“ä½œæµç¨‹ï¼Œå¹«åŠ©ç›´è§€ç†è§£ã€‚

ä½ å¸Œæœ›æˆ‘ç•«å—ï¼Ÿ